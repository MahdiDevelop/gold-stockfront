"use strict";(self.webpackChunkdentest=self.webpackChunkdentest||[]).push([[1360],{344:(e,t,n)=>{n.d(t,{A:()=>r});var a=n(89379),s=(n(65043),n(16347)),o=n(21443),c=n(97),l=n(70579);const r=e=>{let{isEditable:t=!1,name:n,type:r,options:i,Onsearch:d,selectedOption:u,setAddAccountModal:m,setSelectedOption:p,searchQuery:h,handleInputChange:y}=e;const x={menuPortal:e=>(0,a.A)((0,a.A)({},e),{},{zIndex:9999})},{formatMessage:g}=(0,c.A)();return(0,l.jsx)("div",{className:"w-40",children:(0,l.jsx)(o.Ay,{classNamePrefix:"custom-select",inputValue:h,value:u,onChange:e=>{p(e)},options:i,onInputChange:y,getOptionLabel:e=>(0,l.jsx)("div",{style:{display:"flex",alignItems:"center"},children:(0,l.jsx)("span",{children:"".concat(e.name," ")})}),getOptionValue:e=>"".concat(e.name),placeholder:g({id:"Search..."}),isClearable:!0,components:{MenuList:e=>(0,l.jsxs)(s.c.MenuList,(0,a.A)((0,a.A)({},e),{},{children:[e.children,r&&(0,l.jsx)("div",{style:{display:"flex",justifyContent:"center",padding:"10px",borderTop:"1px solid #eaeaea",cursor:"pointer",backgroundColor:"#f9f9f9"},onClick:()=>{m(h)},children:(0,l.jsx)("strong",{children:n})})]}))},isSearchable:!0,isDisabled:t,menuPortalTarget:document.body,styles:x})})}},4293:(e,t,n)=>{n.d(t,{A:()=>c});var a=n(65043),s=(n(5813),n(97739)),o=(n(34348),n(70579));function c(e){let{handle_date:t,settings:n,default_value:c,lebal:l,onKeyDown:r}=e;const[i,d]=(0,a.useState)();return(0,o.jsxs)("div",{className:"col-3 m-2 mt-3",children:[(0,o.jsx)("label",{htmlFor:"",className:"p-0 m-0",children:l}),(0,o.jsx)(s.InputDatePicker,{onKeyDown:r,value:i,onChange:e=>{if(d(e),null!=e){const n={year:e._a[0],month:e._a[1]+1,day:e._a[2]};t(n)}},inputPlaceholder:"Persian"===n[0].date?"تاریخ را وارد کنید":"Enter the date",locale:"Persian"===n[0].date?"fa":"en",colorPrimary:"#0fbcf9",maximumDate:{year:9999,month:12,day:31},minimumDate:{year:1,month:1,day:1}})]})}},4723:(e,t,n)=>{n.d(t,{A:()=>l});var a=n(89379),s=(n(65043),n(21443)),o=n(97),c=n(70579);const l=e=>{let{isEditable:t=!1,options:n,Onsearch:l,selectedOption:r,setSelectedOption:i,searchQuery:d,handleInputChange:u}=e;const{formatMessage:m}=(0,o.A)(),p={menuPortal:e=>(0,a.A)((0,a.A)({},e),{},{zIndex:9999},{})};return(0,c.jsx)("div",{className:"w-100",children:(0,c.jsx)(s.Ay,{classNamePrefix:"custom-select",inputValue:d,value:r,onChange:e=>{i(e),l(e)},options:n,onInputChange:u,getOptionLabel:e=>(0,c.jsx)("div",{style:{display:"flex",alignItems:"center"},className:"afgFont",children:(0,c.jsx)("span",{children:"".concat(e.account_name," ").concat(e.moneyType)})}),getOptionValue:e=>"".concat(e.account_name," ").concat(e.moneyType),placeholder:m({id:"Search..."}),isClearable:!0,isSearchable:!0,isDisabled:t,styles:p,menuPortalTarget:document.body})})}},33735:(e,t,n)=>{n.d(t,{A:()=>y});var a=n(89379),s=n(65043),o=n(79722),c=n(85875),l=(n(71933),n(10506)),r=n.n(l),i=(n(26680),n(95492),n(90096)),d=(n(55191),n(344),n(60555),n(28931),n(83003)),u=(n(61682),n(23603),n(24452),n(37698),n(4723)),m=n(53226),p=n(76583),h=(n(30064),n(70579));function y(e){let{useRef1:t,selectedOption:n,setSelectedOption:l,Edit_Deposit:y,closeEdit:x,open:g,settings:f,EndDateE:A,account:j,setAccount:b,setEditDeposit:v,selectedDay:S,setSelectedDay:w,Diversity:C,setDiversity:_,belance:D,setbelance:N,records:k,setRecords:I}=e;const O=(0,p.N)(),[T,E]=(0,s.useState)(),[M,B]=((0,d.wA)(),(0,s.useState)({user:0,discription:"",amount:"",date:null,account:0,type:"deposite",cash:0,delete:"False"})),[L,P]=(0,s.useState)({id:0,account_name:"",moneyType:"",account:0,moneyId:0,user:0,type:0,belance:0,date_created:""}),[z,K]=(0,s.useState)(0),[V,F]=(0,s.useState)(0),[R,H]=(0,s.useState)(""),[Q,U]=(0,s.useState)(""),W=e=>{"amount"===e.target.name?v((0,a.A)((0,a.A)({},y),{},{[e.target.name]:e.target.value})):v((0,a.A)((0,a.A)({},y),{},{[e.target.name]:e.target.value}))},[G,Y]=(0,s.useState)({id:0,account:0,type:0,belance:0,date_created:"",moneyType:"",account_name:"",moneyId:0,user:0,user_name:"",delete:!1}),[q,X]=(0,s.useState)({account:null,type:null,belance:0,date_created:"",user:null,delete:!1}),[J,Z]=(0,s.useState)(),[$,ee]=(0,s.useState)(),te=(0,s.useRef)(null),ne=e=>{"Enter"===e.key&&(e.preventDefault(),te.current&&te.current.click())},[ae,se]=(0,s.useState)();return(0,s.useEffect)(()=>{!ae||ae.length<3?N([]):(async()=>{try{const e=await o.A.get("".concat(c.A.getAddress(),"/api/belance"),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("access"))},params:{query:ae,do:"ok"}});N(e.data),e.data}catch(e){}})()},[ae]),(0,h.jsxs)("div",{dir:"en"===localStorage.getItem("language")?"ltr":"rtl",className:"container rounded-5 popup res ".concat(g?"show":""),style:{overflowX:"auto",zIndex:"10000",overflowY:"auto",backgroundColor:"#f8f9fa",padding:"20px"},children:[(0,h.jsx)("div",{className:"d-flex justify-content-end ",children:(0,h.jsx)("button",{type:"button",className:"btn-close align-self-end p-2 m-1 mt-0 hover_btn",onClick:x,"aria-label":"Close"})}),(0,h.jsx)("div",{className:"h-50 rounded-5",style:{transition:"all",transitionDuration:1e3},children:(0,h.jsxs)("div",{className:"row",style:{flexWrap:"wrap",margin:0},children:[(0,h.jsx)("h1",{className:"text-center rounded p-3 text-light",style:{backgroundColor:"var(--bs-info)",width:"100%",fontSize:"1.1rem",padding:"0.1rem!important"},children:(0,h.jsx)(m.A,{id:"Edit Deposit"})}),(0,h.jsxs)("div",{className:"col-12 col-md-6 d-flex flex-column  mt-5 ",children:[(0,h.jsx)("label",{for:"category",children:(0,h.jsx)(m.A,{id:"Customer"})}),(0,h.jsx)(u.A,{searchQuery:ae,setSearchQuery:se,handleInputChange:e=>{se(e)},setSelectedOption:l,selectedOption:n,options:D,Onsearch:e=>{if(e){E(e.moneyId),U(e.moneyType),H(e.account_name),F(e.moneyId),K(e.id),P(t=>(0,a.A)((0,a.A)({},t),{},{id:e.id,moneyId:e.moneyId,user:e.user,moneyType:e.moneyType,account:e.account,account_name:e.account_name,type:e.type,belance:e.belance,date_created:e.date_created}));e.account_name,e.moneyType;v((0,a.A)((0,a.A)({},y),{},{account:e.id}))}},onKeyDown:ne}),(0,h.jsx)(i.A,{onKeyDown:ne,default_value:A,settings:f,handle_date:e=>{if(_(0),e){const{year:t,month:n,day:s}=e,o=(r().toGregorian(t,n,s),new Date);String(o.getHours()).padStart(2,"0"),String(o.getMinutes()).padStart(2,"0");const c=new Date,l=new Date(e.year,e.month-1,e.day,c.getHours(),c.getMinutes()).toISOString();v((0,a.A)((0,a.A)({},y),{},{date:l}))}},lebal:(0,h.jsx)(m.A,{id:"Start"}),setSelectedDay:w,selectedDay:S}),(0,h.jsx)("div",{className:"col-12 mt-1 mb-6",style:{maxWidth:"100%",padding:"0 15px"}}),(0,h.jsx)("div",{className:"col-12 mt-1",style:{maxWidth:"100%",padding:"0 15px"}})]}),(0,h.jsxs)("div",{className:"col-12 col-md-6 mt-5",style:{maxWidth:"100%",padding:"0 15px"},children:[(0,h.jsx)("label",{htmlFor:"national_id_number",children:(0,h.jsx)(m.A,{id:"Amount"})}),(0,h.jsx)("input",{ref:t,onKeyDown:ne,type:"text",name:"amount",placeholder:"Amount",className:"form-control mb-3",value:y.amount,onChange:W,style:{width:"100%"}}),(0,h.jsxs)("div",{class:"form-floating",children:[(0,h.jsx)("textarea",{name:"discription",class:"form-control h-50",placeholder:"Leave a comment here",id:"floatingTextarea2",value:y.discription,onChange:W,onKeyDown:ne}),(0,h.jsx)("label",{for:"floatingTextarea2",children:(0,h.jsx)(m.A,{id:"Description"})})]})]}),(0,h.jsxs)("div",{className:"col-12 d-flex flex-column flex-md-row justify-content-center margin mt-4",children:[(0,h.jsx)("button",{type:"button",className:"text-center form-control w-100 w-md-25 btn btn-outline-danger me-1 mb-2 mb-md-0 ms-1",onClick:x,children:(0,h.jsx)(m.A,{id:"Cancel"})}),(0,h.jsx)("button",{type:"button",ref:te,className:"text-center form-control w-100 w-md-25 btn btn-outline-success ms-1",onClick:async()=>{j===y.account?(y._method="put",o.A.post("".concat(c.A.getAddress(),"/api/report/").concat(y.id),y,{headers:{Authorization:"Bearer ".concat(localStorage.getItem("access"))}}).then(e=>{I(t=>t.map(t=>t.id===e.data.report.id?(0,a.A)((0,a.A)({},t),e.data.report):t)),O({position:"top-end",icon:"success",title:(0,h.jsx)(m.A,{id:"Updated Successfully!"}),showConfirmButton:!1,timer:1e3})}).catch(e=>{O({position:"top-end",icon:"error",title:(0,h.jsx)(m.A,{id:"Not Updated Successfully!"}),showConfirmButton:!1,timer:1e3})})):o.A.put("".concat(c.A.getAddress(),"/api/report/").concat(y.id,"/"),y,{params:{type:"change"},headers:{Authorization:"Bearer ".concat(localStorage.getItem("access"))}}).then(e=>{I(t=>t.map(t=>t.id===e.data.report.id?(0,a.A)((0,a.A)({},t),e.data.report):t)),O({position:"top-end",icon:"success",title:(0,h.jsx)(m.A,{id:"Updated Successfully!"}),showConfirmButton:!1,timer:1e3})}).catch(e=>{O({position:"top-end",icon:"error",title:(0,h.jsx)(m.A,{id:"Not Updated Successfully!"}),showConfirmButton:!1,timer:1e3})}),x()},children:(0,h.jsx)(m.A,{id:"Submit"})})]})]})})]})}},35286:(e,t,n)=>{n(65043),n(4455),n(9370),n(24775),n(10506),n(70579)},60555:(e,t,n)=>{n.d(t,{A:()=>A});var a=n(89379),s=n(65043),o=n(85875),c=n(79722),l=n(76583),r=n(344),i=(n(4293),n(21443)),d=n(10506),u=n.n(d),m=n(90096),p=n(55191),h=n.n(p),y=n(83003),x=n(10068),g=n(53226),f=n(70579);function A(e){let{selectedOption:t,setSelectedOption:n,nmoney:d,setnmoney:p,Editefull:A,setEditeFull:j,setAccounts:b,close:v,addAccountModal:S,records:w,setRecords:C,accounts:_,money:D,settings:N,bbelance:k,setbbelance:I,smoney:O,setsmeony:T,add:E,setadd:M}=e;const B=(0,y.wA)(),L=(0,l.N)(),{customers:P,errorc:z,statusc:K}=(0,y.d4)(e=>e.customers);(0,s.useEffect)(()=>{K||P||B((0,x.od)())},[B,K,P]);const[V,F]=(0,s.useState)(h()()),R=(0,s.useRef)(null),H=e=>{"Enter"===e.key&&(e.preventDefault(),R.current&&E&&R.current.click())};return(0,f.jsxs)("div",{className:"rounded-4 row g-2 popup m-4 mb-0 ".concat(S&&"show"),style:{width:"26rem"},children:[(0,f.jsx)("div",{className:"d-flex justify-content-end m-0 p-0",children:(0,f.jsx)("button",{type:"button",class:"btn-close align-self-end p-3 m-1 mt-0 hover_btn",onClick:()=>{v()},"aria-label":"Close"})}),(0,f.jsx)("h1",{className:"text-center rounded m-0 p-2 w-100 text-light fs-4",style:{backgroundColor:"var(--bs-info)"},children:(0,f.jsx)(g.A,{id:"Edit Account"})}),(0,f.jsxs)("div",{class:"col-md-6",children:[(0,f.jsx)("label",{for:"validationServer01",class:"",children:(0,f.jsx)(g.A,{id:"Customer Name"})}),(0,f.jsx)(r.A,{setSelectedOption:n,selectedOption:t,options:P,Onsearch:e=>{if(p(""),e){I((0,a.A)((0,a.A)({},k),{},{account:e.id})),M((0,a.A)((0,a.A)({},E),{},{account_name:e.name,account:e.id}));const t=w.filter(t=>t.account===e.id);let n=[];for(let e=0;e<D.length;e++){t.find(t=>t.type===D[e].id)||n.push(D[e])}T(n)}}}),(0,f.jsx)("div",{class:"valid-feedback",children:"Looks good!"})]}),(0,f.jsxs)("div",{class:"col-md-6",children:[(0,f.jsx)("label",{for:"validationServer02",class:"",children:(0,f.jsx)(g.A,{id:"Currency"})}),(0,f.jsx)("div",{className:"w-40",children:(0,f.jsx)(i.Ay,{onKeyDown:H,value:d,onChange:e=>{const t=(new Date).toISOString();p(e),e&&(I((0,a.A)((0,a.A)({},k),{},{user:localStorage.getItem("userTokenid"),type:e.id,date_created:t})),M((0,a.A)((0,a.A)({},E),{},{user:localStorage.getItem("userTokenid"),type:e.id,id:A.id,date_created:t,moneyType:e.name,user_name:localStorage.getItem("userToken")})))},options:O,getOptionLabel:e=>(0,f.jsx)("div",{style:{display:"flex",alignItems:"center"},children:(0,f.jsx)("span",{children:"".concat(e.name," ")})}),getOptionValue:e=>"".concat(e.name),placeholder:"".concat((0,f.jsx)(g.A,{id:"Search"})),isClearable:!0,isSearchable:!0})}),(0,f.jsx)("div",{class:"valid-feedback",children:"Looks good!"})]}),(0,f.jsx)("div",{className:"coll-10",children:(0,f.jsx)(m.A,{onKeyDown:H,default_value:"",settings:N,handle_date:e=>{if(e){const{year:t,month:n,day:s}=e,o=(u().toGregorian(t,n,s),new Date);String(o.getHours()).padStart(2,"0"),String(o.getMinutes()).padStart(2,"0");const c=new Date(e.year,e.month-1,e.day,o.getHours(),o.getMinutes()).toISOString();I((0,a.A)((0,a.A)({},k),{},{date_created:c})),M((0,a.A)((0,a.A)({},E),{},{date_created:c}))}},lebal:(0,f.jsx)(g.A,{id:"Date"}),setSelectedDay:F,selectedDay:V})}),(0,f.jsxs)("div",{className:"col-10 ms-4 m-10 mt-5 ps-3 d-flex",children:[(0,f.jsx)("a",{className:"text-center form-control btn btn-danger text-light me-1 ms-1",style:{margin:"auto",width:"150px"},onClick:v,children:(0,f.jsx)(g.A,{id:"Cancel"})}),(0,f.jsx)("a",{className:"text-center btn form-control btn-success text-light ms-1",ref:R,style:{margin:"auto",width:"150px"},onClick:()=>{k._method="put",c.A.post(o.A.getAddress()+"/api/belance/"+A.id+"/",k,{headers:{Authorization:"Bearer ".concat(localStorage.getItem("access"))}}).then(e=>{L({position:"top-end",icon:"success",title:(0,f.jsx)(g.A,{id:"Your record has been updated!"}),showConfirmButton:!1,timer:800}),I({account:null,type:null,belance:0,date_created:"",user:null,isdelete:!1}),n(null),p(null),T(null),F(h()()),C(w.map(e=>e.id===E.id?E:e)),v()}).catch(e=>{L({position:"top-end",icon:"error",title:(0,f.jsx)(g.A,{id:"Not working ,please try again!"}),showConfirmButton:!1,timer:800})})},children:(0,f.jsx)(g.A,{id:"Submit"})})]})]})}},88901:(e,t,n)=>{n.d(t,{A:()=>s});n(65043),n(30064);var a=n(70579);function s(){return(0,a.jsx)("div",{children:"Alert"})}},95492:(e,t,n)=>{n.d(t,{A:()=>l});var a=n(89379),s=(n(65043),n(16347)),o=n(21443),c=n(70579);const l=e=>{let{isEditable:t=!1,name:n,options:l,type:r,Onsearch:i,selectedOption:d,setSelectedOption:u,setAddBalanceModal:m}=e;return(0,c.jsx)("div",{className:"w-40",children:(0,c.jsx)(o.Ay,{value:d,onChange:e=>{u(e),i(e)},options:l,getOptionLabel:e=>(0,c.jsx)("div",{style:{display:"flex",alignItems:"center"},children:(0,c.jsx)("span",{children:"".concat(e.account_name," ").concat(e.moneyType)})}),getOptionValue:e=>"".concat(e.account_name," ").concat(e.moneyType),placeholder:"Search...",isClearable:!0,components:{MenuList:e=>(0,c.jsxs)(s.c.MenuList,(0,a.A)((0,a.A)({},e),{},{children:[e.children,r&&(0,c.jsx)("div",{style:{display:"flex",justifyContent:"center",padding:"10px",borderTop:"1px solid #eaeaea",cursor:"pointer",backgroundColor:"#f9f9f9"},onClick:()=>m(!0),children:(0,c.jsx)("strong",{children:n})})]}))},isSearchable:!0})})}}}]);
//# sourceMappingURL=1360.4347c66b.chunk.js.map