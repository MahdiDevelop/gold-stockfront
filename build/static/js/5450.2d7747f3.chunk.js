"use strict";(self.webpackChunkdentest=self.webpackChunkdentest||[]).push([[5450],{37800:(e,t,s)=>{s.r(t),s.d(t,{default:()=>x});var a=s(79722),o=s(65043),l=s(58786),n=s(85875),r=s(76583),i=(s(81027),s(30064),s(55191)),c=s.n(i),d=s(34081),u=s(21344),m=(s(30232),s(14635)),g=(s(36622),s(91814)),h=s(83003),b=s(97),p=s(53226),S=s(70579);function x(){const e=(0,r.N)(),t=(0,h.wA)(),{moneys:s,errorm:i,statusm:x}=(0,h.d4)(e=>e.moneys),{belances:A,errorb:y,statusb:w}=(0,h.d4)(e=>e.belances),{customers:f,errorc:j,statusc:v}=(0,h.d4)(e=>e.customers),[C,P]=(0,o.useState)([]),[M,k]=(0,o.useState)(f),[R,I]=(0,o.useState)(A),[N,W]=(0,o.useState)([]),[T,B]=(0,o.useState)([]),[D,Y]=(0,o.useState)(!1),[E,z]=(0,o.useState)(!1),[O,H]=(0,o.useState)(!1),[_,F]=(0,o.useState)(window.innerWidth>768),[q,G]=(0,o.useState)(!1),[J,K]=(0,o.useState)(!1),[L,Q]=(0,o.useState)([]),[U,V]=(0,o.useState)([]),[X,Z]=(0,o.useState)([]),{items:$,errori:ee,statusi:te}=(0,h.d4)(e=>e.items),{settings:se,errors:ae,statuss:oe}=(0,h.d4)(e=>e.settings),[le,ne]=(0,o.useState)(),[re,ie]=(0,o.useState)([]),[ce,de]=(0,o.useState)({}),[ue,me]=(0,o.useState)();(0,o.useEffect)(()=>{oe||0!==(null==se?void 0:se.lenght)||t((0,g.mt)())},[t,x,s,$,te,se,oe]);const[ge,he]=(0,o.useState)([]),[be,pe]=(0,o.useState)(0),[Se,xe]=(0,o.useState)(!1),[Ae,ye]=(0,o.useState)(1),[we,fe]=(0,o.useState)(10);(0,o.useEffect)(()=>{(async(e,t)=>{xe(!0);try{const s=await a.A.get(n.A.getAddress()+"/api/sellreturn",{headers:{Authorization:"Bearer ".concat(localStorage.getItem("access"))},params:{page:e,perPage:t,delete:0,product:"sell"}});B(s.data.data),pe(s.data.total),xe(!1)}catch(e){xe(!1)}})(Ae,we)},[Ae,we]);const[je,ve]=(0,o.useState)([]),[Ce,Pe]=(0,o.useState)(0),[Me,ke]=(0,o.useState)(0),[Re,Ie]=(0,o.useState)(),Ne=[{name:"Id",selector:e=>e.bill.id,sortable:!0,style:{width:"1px",minWidth:"1px"}},{name:"Name",selector:e=>{var t;return null!==(t=e.bill.accounts)&&void 0!==t&&t.account?e.bill.accounts.account.name:e.bill.temp_customer},sortable:!0,style:{width:"1px",minWidth:"1px"}},{name:(0,S.jsx)("strong",{style:{minWidth:"200px",maxWidth:"240px",width:"240px"},children:"Date Created"}),selector:e=>(e=>{const t=new Date(e);let s="".concat(t.getFullYear(),"-").concat(String(t.getMonth()+1).padStart(2,"0"),"-").concat(String(t.getDate()).padStart(2,"0"));const a=t.getHours(),o=t.getMinutes();let l=a>=12?"pm":"am";const n=a%12||12,r=o<10?"0"+o:o;return"Persian"===localStorage.getItem("date")?(c().locale("fa"),l=a>=12?"ب.ظ":"ق.ظ",s=c()(e).format("jYYYY-jMM-jDD")):c().locale("en"),"".concat(s," ").concat(n,":").concat(r," ").concat(l)})(e.bill.dateInsert)},{name:"Currency",selector:e=>{var t,s;return null===(t=e.bill)||void 0===t||null===(s=t.money)||void 0===s?void 0:s.name},sortable:!0},{name:"Total Amount",selector:e=>e.bill.total,sortable:!0},{name:"Paid Amount",selector:e=>e.bill.PaidAmount,sortable:!0},{name:"Rmain Amount",selector:e=>e.bill.Remain,sortable:!0},{name:(0,S.jsx)("strong",{style:{textAlign:"center",backgroundColor:"tranceparent",width:"100%"},children:"Show"}),selector:t=>(0,S.jsx)("button",{onClick:s=>{Z(t.sells),Pe(t.bill.total),ke(t.bill.PaidAmount),Ie(t.bill),(t=>{t?a.A.get(n.A.getAddress()+"/api/sell/"+t,{headers:{Authorization:"Bearer ".concat(localStorage.getItem("access"))}}).then(e=>{Be(e.data.money),de(e.data.bill),ie(e.data.sells)}).catch(()=>{de([]),ie([]),e({position:"top-end",icon:"error",title:"This bill number not found!",showConfirmButton:!1,timer:1e3})}):e({position:"top-end",icon:"error",title:"Please fill the bill number!",showConfirmButton:!1,timer:1e3})})(t.bill.bill_sell),K(!0)},style:{border:"none",backgroundColor:"transparent",height:"100%"},children:(0,S.jsx)("img",{height:"15%",width:"15%",src:m,style:{backgroundColor:"tranceparent"}})})}],We=(0,o.useMemo)(()=>{let e;return e="pa"===localStorage.getItem("language")||"da"===localStorage.getItem("language")?[...Ne]:Ne,e},[_]),[Te,Be]=(0,o.useState)([]),[De,Ye]=(0,o.useState)(!1),{formatMessage:Ee}=(0,b.A)(),ze={pagination:{rowsPerPage:(0,S.jsx)(p.A,{id:"AddrowsPerPage"}),previous:(0,S.jsx)(p.A,{id:"previous"}),next:(0,S.jsx)(p.A,{id:"next"}),page:(0,S.jsx)(p.A,{id:"page"})}};return(0,S.jsx)("div",{className:"w-100 ".concat("iransans"),children:(0,S.jsxs)("div",{className:"m-auto mt-5 m-5",style:{height:"100%",width:"99%"},children:[(0,S.jsx)("button",{type:"submit",className:"btn btn-info mb-1 p-1",style:{width:"100px"},onClick:()=>{z(!0)},children:(0,S.jsx)(p.A,{id:"Add"})}),(0,S.jsxs)("div",{dir:"en"===localStorage.getItem("language")?"ltr":"rtl",className:"bg-light d-flex justify-content-lg-betweend-flex flex-column flex-lg-row justify-content-lg-between align-items-start align-items-lg-center",style:{borderTop:"5px solid #4a5cf2"},children:[(0,S.jsxs)("h2",{className:"m-2 fw-bold mb-4",children:["                    ",(0,S.jsx)(p.A,{id:"Sell Return"})]}),(0,S.jsx)("input",{className:"form-control m-2 mb-4",style:{width:"100%",maxWidth:"200px"},type:"search",placeholder:Ee({id:"Search"}),"aria-label":"Search"})]}),(0,S.jsx)(l.Ay,{localization:ze,columns:We,data:T,progressPending:Se,striped:!0,responsive:!0,highlightOnHover:!0,pagination:!0,paginationServer:!0,paginationTotalRows:be,onChangePage:e=>{ye(e)},onChangeRowsPerPage:async(e,t)=>{fe(e),ye(t)},customStyles:{headCells:{style:{fontWeight:"bold"}}}}),(0,S.jsx)(d.A,{options1:C,setOptions1:P,customer:M,setcustomer:k,settings:ge,setsettings:he,records:T,setRecords:B,addAccountModal:D,setAddAccountModal:Y,moneys:Te,AddSellModal:E,close:()=>z(!1),setAddBalanceModal:H}),(0,S.jsx)(u.A,{PaidAmount:Me,setPaidAmount:ke,TotalAmount:Ce,setTotalAmount:Pe,returnbill:Re,setreturnbill:Ie,SoldRecords:re,setSoldRecords:ie,bill:ce,setbill:de,money:ue,setmoney:me,Exesting:De,setExesting:Ye,records:T,setRecords:B,settings:ge,setsettings:he,AddSellModal:J,close:e=>K(!1),moneys:Te,options1:C,setOptions1:P,customers:M,Customer:U,setCustomer:V,shopingcart:X,setshopingcart:Z})]})})}}}]);
//# sourceMappingURL=5450.2d7747f3.chunk.js.map