"use strict";(self.webpackChunkdentest=self.webpackChunkdentest||[]).push([[6304],{3490:(e,t,a)=>{a.r(t),a.d(t,{default:()=>A});var s=a(65043),n=a(79722),o=a(58786),r=a(85875),l=a(10506),i=a.n(l),d=(a(71831),a(65239),a(54168),a(55191),a(83601)),c=(a(53841),a(4293),a(90096)),u=a(76583),g=a(83003),p=(a(10068),a(91814)),h=(a(90074),a(344),a(61238)),x=(a(30064),a(71933),a(26680),a(53226)),m=a(70579);const f=e=>null==e?void 0:e.toLocaleString();function S(e){let{close:t,addAccountModal:a,record:s,setRecord:n,accounts:o,inputRef:r,ShowBill:l}=e;return(0,m.jsx)("div",{className:"container rounded-5 popup customer ".concat(a?"show":""),style:{maxWidth:"70%",overflowX:"auto",overflowY:"auto",height:"80vh",backgroundColor:"#f8f9fa",padding:"20px",zIndex:"10000"},children:(0,m.jsxs)("div",{class:"card card-body m-auto",style:{borderTop:"5px solid #4a5cf2"},children:[(0,m.jsx)("div",{className:"d-flex justify-content-end",children:(0,m.jsx)("button",{type:"button",className:"btn-close p-3 m-1 mt-0 hover_btn",onClick:t,"aria-label":"Close"})}),(0,m.jsx)("h1",{class:"text-center rounded m-0 mb-2 p-4 text-light fw-bold bg-info",children:"Tracking of profite"}),(0,m.jsxs)("table",{class:"table table-light table-striped",children:[(0,m.jsx)("thead",{children:(0,m.jsxs)("tr",{children:[(0,m.jsx)("th",{scope:"col",children:(0,m.jsx)(x.A,{id:"No"})}),(0,m.jsx)("th",{scope:"col",children:(0,m.jsx)(x.A,{id:"Source"})}),(0,m.jsxs)("th",{scope:"col",children:["              ",(0,m.jsx)(x.A,{id:"Profit"})]}),(0,m.jsxs)("th",{scope:"col",children:["              ",(0,m.jsx)(x.A,{id:"Bill Number"})]}),(0,m.jsxs)("th",{scope:"col",children:["              ",(0,m.jsx)(x.A,{id:"Currency"})]}),(0,m.jsxs)("th",{scope:"col",children:["              ",(0,m.jsx)(x.A,{id:"Show"})]})]})}),(0,m.jsx)("tbody",{class:"table-group-divider",children:s&&s.map((e,t)=>(0,m.jsxs)("tr",{children:[(0,m.jsx)("th",{scope:"row",children:t+1}),(0,m.jsx)("td",{children:"Report"===e.source?"Transformations":e.source}),(0,m.jsx)("td",{children:(0,m.jsx)("span",{dir:"ltr",children:f(e.profit)})}),(0,m.jsx)("td",{children:"Report"===e.source?e.report_id+" Number":e.bill_id}),(0,m.jsx)("td",{children:e.money_type}),(0,m.jsxs)("td",{children:[" ","Report"!==e.source&&(0,m.jsx)("button",{onClick:()=>{l(e.bill_id)},type:"button",className:"btn btn-outline-info rounded-4",style:{fontSize:"0.6rem"},children:(0,m.jsx)(x.A,{id:"Veiw"})})]})]},t))})]})]})})}var j=a(36622);const b=e=>null==e?void 0:e.toLocaleString();function A(){const e=(0,g.wA)(),t=(0,u.N)(),{settings:a,errors:l,statuss:f}=(0,g.d4)(e=>e.settings),{users:A,statusu:y}=(0,g.d4)(e=>e.users),[w,v]=(0,s.useState)([]),[C,D]=(0,s.useState)([]),[I,N]=(0,s.useState)(),[P,F]=(0,s.useState)(),[_,T]=(0,s.useState)(""),[k,z]=(0,s.useState)(),[M,O]=(0,s.useState)(window.innerWidth>768),[E,R]=(0,s.useState)([]),[H,B]=(0,s.useState)([{name:"",email:"",phone:"",address:"",description:""}]),[G,V]=(0,s.useState)([]),[J,L]=(0,s.useState)(),[W,Y]=(0,s.useState)(!1);(0,s.useEffect)(()=>{"succeeded"===f||a||e((0,p.mt)())},[e,,a,f]),(0,s.useEffect)(()=>{(null==a?void 0:a.length)>0&&B(a)},[a]);const K=e=>{if(e){const{year:t,month:a,day:s}=e,n=(i().toGregorian(t,a,s),new Date);String(n.getHours()).padStart(2,"0"),String(n.getMinutes()).padStart(2,"0");const o=new Date,r=new Date(e.year,e.month-1,e.day,o.getHours(),o.getMinutes()).toISOString();T(r)}},[U,X]=(0,s.useState)([]),[q,Q]=(0,s.useState)(),[Z,$]=(0,s.useState)([]),[ee,te]=(0,s.useState)([]),[ae,se]=(0,s.useState)(),[ne,oe]=(0,s.useState)(),[re,le]=(0,s.useState)([]),ie=e=>{const t=new Date(e);let s="".concat(t.getFullYear(),"-").concat(String(t.getMonth()+1).padStart(2,"0"),"-").concat(String(t.getDate()).padStart(2,"0"));const o=t.getHours(),l=t.getMinutes(),i=o>=12?"pm":"am",d=o%12||12,c=l<10?"0"+l:l;if(0===a.length){let e={language:"English"};n.A.post(r.A.getAddress()+"/api/settings",e).then(e=>{}).catch(e=>{})}return"Persian"===a[0].date&&(s=de("".concat(s,"  ").concat(d,":").concat(c," ").concat(i))),"".concat(s)},de=e=>{const[t,a,s]=(0,d.dT)(new Date(e));return"".concat(t,"/").concat(a,"/").concat(s)};(0,s.useRef)();const[ce,ue]=(0,s.useState)(null),[ge,pe]=(0,s.useState)(null),[he,xe]=(0,s.useState)(""),[me,fe]=(0,s.useState)([]);const[Se,je]=(0,s.useState)(0),[be,Ae]=(0,s.useState)(!1),[ye,we]=(0,s.useState)(1),[ve,Ce]=(0,s.useState)(10);(0,s.useEffect)(()=>{(async(e,t)=>{Ae(!0);try{const a=await n.A.get(r.A.getAddress()+"/api/benefitcontroller",{headers:{Authorization:"Bearer ".concat(localStorage.getItem("access"))},params:{user_id:q.id,page:e,perPage:t,isdelete:0,StartDate:ae&&_,EndDate:ne&&k}});R(a.data.data),je(a.data.total),Ae(!1)}catch(e){Ae(!1)}})(ye,ve)},[ye,ve,ne,ae,q]);const De=[{name:(0,m.jsx)("strong",{children:"Date"}),selector:e=>ie(e.date)},{name:(0,m.jsx)("strong",{children:"Currency"}),selector:e=>e.currency},{name:(0,m.jsx)("strong",{children:"Profit"}),selector:e=>e.profit},{name:"Show",cell:e=>(0,m.jsx)("button",{onClick:()=>{X(e.details),Y(!0)},type:"button",className:"btn btn-outline-info rounded-4",style:{fontSize:"0.9rem"},children:"View"})}],Ie=[{name:(0,m.jsx)("strong",{children:(0,m.jsx)(x.A,{id:"Show"})}),cell:e=>(0,m.jsx)("button",{onClick:()=>{X(e.details),Y(!0)},type:"button",className:"btn btn-outline-info rounded-4",style:{fontSize:"0.9rem"},children:(0,m.jsx)(x.A,{id:"Veiw"})})},{name:(0,m.jsx)("strong",{children:(0,m.jsx)(x.A,{id:"Profit"})}),selector:e=>(0,m.jsx)("span",{dir:"ltr",children:b(e.profit)})},{name:(0,m.jsx)("strong",{children:(0,m.jsx)(x.A,{id:"Currency"})}),selector:e=>e.currency},{name:(0,m.jsx)("strong",{children:(0,m.jsx)(x.A,{id:"Date"})}),selector:e=>ie(e.date)}],Ne=(0,s.useMemo)(()=>"pa"===localStorage.getItem("language")||"da"===localStorage.getItem("language")?Ie:De,[M]),[Pe,Fe]=(0,s.useState)([]),[_e,Te]=(0,s.useState)(!1),[ke,ze]=(0,s.useState)(!1),[Me,Oe]=(0,s.useState)([]),[Ee,Re]=(0,s.useState)([]),[He,Be]=(0,s.useState)(!1),Ge={pagination:{rowsPerPage:(0,m.jsx)(x.A,{id:"AddrowsPerPage"}),previous:(0,m.jsx)(x.A,{id:"previous"}),next:(0,m.jsx)(x.A,{id:"next"}),page:(0,m.jsx)(x.A,{id:"page"})}};return(0,m.jsx)("div",{dir:"en"===localStorage.getItem("language")?"ltr":"rtl",className:"w-100 h-100\r responsive-container",children:(0,m.jsxs)("div",{className:"pt-4 pb-4 h-100 ",children:[(0,m.jsxs)("div",{className:"bg-light d-flex flex-column flex-lg-row justify-content-lg-between align-items-start align-items-lg-center",style:{borderTop:"5px solid #4a5cf2"},children:[(0,m.jsx)("h2",{className:"m-2 fw-bold mb-4",children:(0,m.jsx)(x.A,{id:"benefit report"})}),(0,m.jsxs)("div",{className:"d-flex flex-column flex-lg-row align-items-start align-items-lg-center",children:[(0,m.jsx)("div",{className:"mb-1 mb-lg-0 me-lg-2 mt-1 ",children:(0,m.jsx)(c.A,{default_value:ae,handle_date:K,lebal:(0,m.jsx)(x.A,{id:"Start"}),setSelectedDay:se,selectedDay:ae})}),(0,m.jsx)("div",{className:"mb-1 mt-1 mb-lg-0 me-lg-2",children:(0,m.jsx)(c.A,{default_value:ne,handle_date:e=>{if(e){const{year:t,month:a,day:s}=e,n=(i().toGregorian(t,a,s),new Date);String(n.getHours()).padStart(2,"0"),String(n.getMinutes()).padStart(2,"0");const o=new Date,r=new Date(e.year,e.month-1,e.day+1,o.getHours(),o.getMinutes()).toISOString();z(r)}},lebal:(0,m.jsx)(x.A,{id:"End"}),setSelectedDay:oe,selectedDay:ne})}),(0,m.jsx)(h.A,{options:A,selectedOption:q,setSelectedOption:Q})]}),(0,m.jsx)("div",{})]}),(0,m.jsx)(o.Ay,{columns:Ne,data:E,striped:!0,responsive:!0,progressPending:be,highlightOnHover:!0,pagination:!0,paginationServer:!0,paginationTotalRows:Se,onChangePage:e=>{we(e)},localization:Ge}),(0,m.jsx)(S,{close:()=>Y(!1),addAccountModal:W,record:U,ShowBill:e=>{n.A.get(r.A.getAddress()+"/api/sell/"+e,{headers:{Authorization:"Bearer ".concat(localStorage.getItem("access"))}}).then(e=>{Te(!!e.data.bill.accounts),Be(!0),Oe(e.data.money),Re(e.data.bill),Fe(e.data.sells)}).catch(e=>{t({position:"top-end",icon:"error",title:"This bill number not found!",showConfirmButton:!1,timer:1e3})})}}),(0,m.jsx)(j.A,{Exesting:_e,setExesting:Te,records:[],setRecords:()=>{},AddSellModal:He,close:e=>Be(!1),money:Me,moneys:[],options1:[],setOptions1:()=>{},customers:[],Customer:Ee,setCustomer:Re,shopingcart:Pe,setshopingcart:Fe})]})})}},4293:(e,t,a)=>{a.d(t,{A:()=>r});var s=a(65043),n=(a(5813),a(97739)),o=(a(34348),a(70579));function r(e){let{handle_date:t,settings:a,default_value:r,lebal:l,onKeyDown:i}=e;const[d,c]=(0,s.useState)();return(0,o.jsxs)("div",{className:"col-3 m-2 mt-3",children:[(0,o.jsx)("label",{htmlFor:"",className:"p-0 m-0",children:l}),(0,o.jsx)(n.InputDatePicker,{onKeyDown:i,value:d,onChange:e=>{if(c(e),null!=e){const a={year:e._a[0],month:e._a[1]+1,day:e._a[2]};t(a)}},inputPlaceholder:"Persian"===a[0].date?"تاریخ را وارد کنید":"Enter the date",locale:"Persian"===a[0].date?"fa":"en",colorPrimary:"#0fbcf9",maximumDate:{year:9999,month:12,day:31},minimumDate:{year:1,month:1,day:1}})]})}},16685:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.jalaliToGregorian=t.gregorianToJalali=void 0,t.gregorianToJalali=function(e,t,a){var s,n,o,r,l;return s=33*~~((l=355666+365*e+~~(((r=t>2?e+1:e)+3)/4)-~~((r+99)/100)+~~((r+399)/400)+a+[0,31,59,90,120,151,181,212,243,273,304,334][t-1])/12053)-1595,s+=4*~~((l%=12053)/1461),(l%=1461)>365&&(s+=~~((l-1)/365),l=(l-1)%365),l<186?(n=1+~~(l/31),o=1+l%31):(n=7+~~((l-186)/30),o=1+(l-186)%30),[s,n,o]},t.jalaliToGregorian=function(e,t,a){var s,n,o,r,l;for(n=400*~~((l=365*(e+=1595)-355668+8*~~(e/33)+~~((e%33+3)/4)+a+(t<7?31*(t-1):30*(t-7)+186))/146097),(l%=146097)>36524&&(n+=100*~~(--l/36524),(l%=36524)>=365&&l++),n+=4*~~(l/1461),(l%=1461)>365&&(n+=~~((l-1)/365),l=(l-1)%365),r=l+1,s=[0,31,n%4==0&&n%100!=0||n%400==0?29:28,31,30,31,30,31,31,30,31,30,31],o=0;o<13&&r>s[parseInt(o,10)];o++)r-=s[parseInt(o,10)];return[n,o,r]}},53841:()=>{},61238:(e,t,a)=>{a.d(t,{A:()=>u});var s=a(89379),n=a(65043),o=a(21443),r=a(92382),l=a(97),i=a(53226),d=a(70579);const c=e=>{let{isDisabled:t=!1,options:a=[],selectedOption:c,setSelectedOption:u,width:g="100%"}=e;const{formatMessage:p,locale:h}=(0,l.A)(),x="fa"===h,m={name:(0,d.jsx)(i.A,{id:"All Users"}),id:0},f=[m,...a];(0,n.useEffect)(()=>{c||u(m)},[c,u,m]);const S={control:(e,t)=>(0,s.A)((0,s.A)({},e),{},{fontFamily:"en"!==localStorage.getItem("language")&&"'CustomFont1', sans-serif",backgroundColor:"#fff",zIndex:1,borderRadius:"8px",border:t.isFocused?"2px solid #4f46e5":"1px solid #d1d5db",boxShadow:t.isFocused?"0 0 5px rgba(79, 70, 229, 0.5)":"none","&:hover":{border:"1px solid #4f46e5"},minHeight:"39px",padding:"4px 8px",textAlign:x?"right":"left",direction:x?"rtl":"ltr"}),menu:e=>(0,s.A)((0,s.A)({},e),{},{fontFamily:"en"!==localStorage.getItem("language")&&"'CustomFont1', sans-serif",borderRadius:"8px",boxShadow:"0px 4px 10px rgba(0, 0, 0, 0.1)",overflow:"hidden",textAlign:x?"right":"left",direction:x?"rtl":"ltr"}),option:(e,t)=>{let{isFocused:a,isSelected:n}=t;return(0,s.A)((0,s.A)({},e),{},{fontFamily:"en"!==localStorage.getItem("language")&&"'CustomFont1', sans-serif",backgroundColor:n?"#4f46e5":a?"#e0e7ff":"#fff",color:n?"#fff":"#111827",padding:x?"12px 16px 12px 8px":"12px 8px 12px 16px",cursor:"pointer",fontSize:"14px",textAlign:x?"right":"left","&:active":{backgroundColor:"#4338ca"}})},singleValue:e=>(0,s.A)((0,s.A)({},e),{},{fontFamily:"en"!==localStorage.getItem("language")&&"'CustomFont1', sans-serif",fontWeight:"bold",color:"#4f46e5",fontSize:"14px",textAlign:x?"right":"left",direction:x?"rtl":"ltr"}),placeholder:e=>(0,s.A)((0,s.A)({},e),{},{fontFamily:"en"!==localStorage.getItem("language")&&"'CustomFont1', sans-serif",fontSize:"14px",color:"#6b7280",textAlign:x?"right":"left",direction:x?"rtl":"ltr"}),dropdownIndicator:e=>(0,s.A)((0,s.A)({},e),{},{fontFamily:"en"!==localStorage.getItem("language")&&"'CustomFont1', sans-serif",padding:"8px"}),menuPortal:e=>(0,s.A)((0,s.A)({},e),{},{zIndex:1e4}),input:e=>(0,s.A)((0,s.A)({},e),{},{fontFamily:"en"!==localStorage.getItem("language")&&"'CustomFont1', sans-serif",textAlign:x?"right":"left"})};return(0,d.jsx)("div",{className:"mt-3",style:{width:g},dir:x?"rtl":"ltr",children:(0,d.jsx)(o.Ay,{classNamePrefix:"custom-select",value:c,onChange:e=>{u(e)},options:f,getOptionLabel:e=>e.name,getOptionValue:e=>e.id,placeholder:p({id:"select.placeholder"})||(x?"انتخاب کنید...":"Select..."),isClearable:!1,isSearchable:!1,isDisabled:t,menuPortalTarget:document.body,styles:S,components:{DropdownIndicator:e=>{let{innerProps:t}=e;return(0,d.jsx)("div",(0,s.A)((0,s.A)({},t),{},{className:x?"pl-2 text-gray-500":"pr-2 text-gray-500",children:(0,d.jsx)(r.A,{size:20})}))},ClearIndicator:null}})})};c.defaultProps={isDisabled:!1,options:[],selectedOption:null,width:"100%"};const u=c},83601:(e,t,a)=>{t.dT=void 0;var s=a(16685),n=s.gregorianToJalali;s.jalaliToGregorian,t.dT=function(e,t,a){if("number"!=typeof e){var s=new Date(e),o=s.getFullYear(),r=s.getMonth()+1,l=s.getDate();return n(o,r,l)}return n(e,t,a)}}}]);
//# sourceMappingURL=6304.c1e8b9dd.chunk.js.map