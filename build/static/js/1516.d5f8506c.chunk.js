"use strict";(self.webpackChunkdentest=self.webpackChunkdentest||[]).push([[1516],{61238:(e,t,a)=>{a.d(t,{A:()=>u});var n=a(89379),s=a(65043),o=a(21443),r=a(92382),c=a(97),i=a(53226),l=a(70579);const d=e=>{let{isDisabled:t=!1,options:a=[],selectedOption:d,setSelectedOption:u,width:m="100%"}=e;const{formatMessage:p,locale:g}=(0,c.A)(),h="fa"===g,x={name:(0,l.jsx)(i.A,{id:"All Users"}),id:0},y=[x,...a];(0,s.useEffect)(()=>{d||u(x)},[d,u,x]);const f={control:(e,t)=>(0,n.A)((0,n.A)({},e),{},{fontFamily:"en"!==localStorage.getItem("language")&&"'CustomFont1', sans-serif",backgroundColor:"#fff",zIndex:1,borderRadius:"8px",border:t.isFocused?"2px solid #4f46e5":"1px solid #d1d5db",boxShadow:t.isFocused?"0 0 5px rgba(79, 70, 229, 0.5)":"none","&:hover":{border:"1px solid #4f46e5"},minHeight:"39px",padding:"4px 8px",textAlign:h?"right":"left",direction:h?"rtl":"ltr"}),menu:e=>(0,n.A)((0,n.A)({},e),{},{fontFamily:"en"!==localStorage.getItem("language")&&"'CustomFont1', sans-serif",borderRadius:"8px",boxShadow:"0px 4px 10px rgba(0, 0, 0, 0.1)",overflow:"hidden",textAlign:h?"right":"left",direction:h?"rtl":"ltr"}),option:(e,t)=>{let{isFocused:a,isSelected:s}=t;return(0,n.A)((0,n.A)({},e),{},{fontFamily:"en"!==localStorage.getItem("language")&&"'CustomFont1', sans-serif",backgroundColor:s?"#4f46e5":a?"#e0e7ff":"#fff",color:s?"#fff":"#111827",padding:h?"12px 16px 12px 8px":"12px 8px 12px 16px",cursor:"pointer",fontSize:"14px",textAlign:h?"right":"left","&:active":{backgroundColor:"#4338ca"}})},singleValue:e=>(0,n.A)((0,n.A)({},e),{},{fontFamily:"en"!==localStorage.getItem("language")&&"'CustomFont1', sans-serif",fontWeight:"bold",color:"#4f46e5",fontSize:"14px",textAlign:h?"right":"left",direction:h?"rtl":"ltr"}),placeholder:e=>(0,n.A)((0,n.A)({},e),{},{fontFamily:"en"!==localStorage.getItem("language")&&"'CustomFont1', sans-serif",fontSize:"14px",color:"#6b7280",textAlign:h?"right":"left",direction:h?"rtl":"ltr"}),dropdownIndicator:e=>(0,n.A)((0,n.A)({},e),{},{fontFamily:"en"!==localStorage.getItem("language")&&"'CustomFont1', sans-serif",padding:"8px"}),menuPortal:e=>(0,n.A)((0,n.A)({},e),{},{zIndex:1e4}),input:e=>(0,n.A)((0,n.A)({},e),{},{fontFamily:"en"!==localStorage.getItem("language")&&"'CustomFont1', sans-serif",textAlign:h?"right":"left"})};return(0,l.jsx)("div",{className:"mt-3",style:{width:m},dir:h?"rtl":"ltr",children:(0,l.jsx)(o.Ay,{classNamePrefix:"custom-select",value:d,onChange:e=>{u(e)},options:y,getOptionLabel:e=>e.name,getOptionValue:e=>e.id,placeholder:p({id:"select.placeholder"})||(h?"انتخاب کنید...":"Select..."),isClearable:!1,isSearchable:!1,isDisabled:t,menuPortalTarget:document.body,styles:f,components:{DropdownIndicator:e=>{let{innerProps:t}=e;return(0,l.jsx)("div",(0,n.A)((0,n.A)({},t),{},{className:h?"pl-2 text-gray-500":"pr-2 text-gray-500",children:(0,l.jsx)(r.A,{size:20})}))},ClearIndicator:null}})})};d.defaultProps={isDisabled:!1,options:[],selectedOption:null,width:"100%"};const u=d},61330:(e,t,a)=>{a.r(t),a.d(t,{default:()=>B});var n=a(89379),s=a(65043),o=a(83601),r=a(88901),c=(a(4293),a(90096)),i=(a(35286),a(58786)),l=a(79722),d=a(96482),u=(a(62299),a(30232)),m=a(83003),p=a(25565),g=a(13869),h=a(95492),x=a(85875),y=a(30064),f=a.n(y),A=a(55191),S=a.n(A),j=a(10506),b=a.n(j),w=a(89577),C=(a(28931),a(33735),a(53226)),D=a(76583),v=a(70579);function I(e){let{useRef1:t,selectedOption:a,setSelectedOption:o,Edit_Deposit:r,closeEdit:i,open:d,settings:u,EndDateE:m,account:p,setAccount:g,setEditDeposit:y,selectedDay:f,setSelectedDay:A,Diversity:S,setDiversity:j,setCash:w,Cash:I,belance:_,setbelance:T,records:N,setRecords:k,type:O,settype:B,primarytype:M,setprimarytype:W}=e;const[F,E]=(0,s.useState)(),z=(0,D.N)(),[R,H]=(0,s.useState)({user:0,discription:"",amount:"",date:null,account:0,type:"deposite",cash:0,delete:"False"}),[P,Y]=(0,s.useState)({id:0,account_name:"",moneyType:"",account:0,moneyId:0,user:0,type:0,belance:0,date_created:""}),[K,G]=(0,s.useState)(0),[L,U]=(0,s.useState)(0),[V,Q]=(0,s.useState)(""),[q,J]=(0,s.useState)(""),X=e=>{"amount"===e.target.name?y((0,n.A)((0,n.A)({},r),{},{[e.target.name]:e.target.value})):y((0,n.A)((0,n.A)({},r),{},{[e.target.name]:e.target.value}))},[Z,$]=(0,s.useState)({id:0,account:0,type:0,belance:0,date_created:"",moneyType:"",account_name:"",moneyId:0,user:0,user_name:"",delete:!1}),[ee,te]=(0,s.useState)({account:null,type:null,belance:0,date_created:"",user:null,delete:!1}),ae=(0,s.useRef)(null),ne=e=>{"Enter"===e.key&&(e.preventDefault(),ae.current&&ae.current.click())};return(0,v.jsxs)("div",{className:"container rounded-5 popup res ".concat(d?"show":""),style:{overflowX:"auto",overflowY:"auto",backgroundColor:"#f8f9fa",padding:"20px"},children:[(0,v.jsx)("div",{className:"d-flex justify-content-end ",children:(0,v.jsx)("button",{type:"button",className:"btn-close align-self-end p-3 m-1 mt-0 hover_btn",onClick:i,"aria-label":"Close"})}),(0,v.jsx)("div",{className:"h-50 rounded-5",style:{transition:"all",transitionDuration:1e3},children:(0,v.jsxs)("div",{className:"row",style:{flexWrap:"wrap",margin:0},children:[(0,v.jsx)("h1",{className:"text-center rounded p-4 text-light",style:{backgroundColor:"var(--bs-info)",width:"100%"},children:(0,v.jsx)(C.A,{id:"Edit Transaction"})}),(0,v.jsxs)("div",{className:"col-12 col-md-6 d-flex flex-column  mt-5 ",children:[(0,v.jsxs)("label",{for:"category",children:["                        ",(0,v.jsx)(C.A,{id:"Customer"})]}),(0,v.jsx)(h.A,{setSelectedOption:o,selectedOption:a,options:_,Onsearch:e=>{if(e){E(e.moneyId),J(e.moneyType),Q(e.account_name),U(e.moneyId),G(e.id),Y(t=>(0,n.A)((0,n.A)({},t),{},{id:e.id,moneyId:e.moneyId,user:e.user,moneyType:e.moneyType,account:e.account,account_name:e.account_name,type:e.type,belance:e.belance,date_created:e.date_created}));e.account_name,e.moneyType;y((0,n.A)((0,n.A)({},r),{},{account:e.id}))}},onKeyDown:ne}),(0,v.jsx)(c.A,{onKeyDown:ne,default_value:m,settings:u,handle_date:e=>{if(j(0),e){const{year:t,month:a,day:s}=e,o=(b().toGregorian(t,a,s),new Date);String(o.getHours()).padStart(2,"0"),String(o.getMinutes()).padStart(2,"0");const c=new Date,i=new Date(e.year,e.month-1,e.day,c.getHours(),c.getMinutes()).toISOString();y((0,n.A)((0,n.A)({},r),{},{date:i}))}},lebal:(0,v.jsx)(C.A,{id:"Date"}),setSelectedDay:A,selectedDay:f}),(0,v.jsx)("div",{className:"col-12 mt-1 mb-6",style:{maxWidth:"100%",padding:"0 15px"}}),(0,v.jsx)("div",{className:"col-12 mt-1",style:{maxWidth:"100%",padding:"0 15px"}})]}),(0,v.jsxs)("div",{className:"col-12 col-md-6 mt-5",style:{maxWidth:"100%",padding:"0 15px"},children:[(0,v.jsxs)("label",{htmlFor:"national_id_number",children:["                        ",(0,v.jsx)(C.A,{id:"Amount"}),"            "]}),(0,v.jsx)("input",{ref:t,onKeyDown:ne,type:"text",name:"amount",placeholder:"Amount",className:"form-control fs-6 mb-3",value:r.amount,onChange:X,style:{width:"100%"}}),(0,v.jsxs)("div",{class:"form-floating",children:[(0,v.jsx)("textarea",{name:"discription",class:"form-control h-50",placeholder:"Leave a comment here",id:"floatingTextarea2",value:r.discription,onChange:X,onKeyDown:ne}),(0,v.jsxs)("label",{for:"floatingTextarea2",children:["                        ",(0,v.jsx)(C.A,{id:"Description"}),"              "]})]})]}),(0,v.jsxs)("div",{className:"col-12 d-flex flex-column flex-md-row justify-content-center margin",children:[(0,v.jsx)("button",{type:"button",className:"text-center form-control w-100 w-md-25 btn btn-outline-danger me-1 mb-2 mb-md-0",onClick:i,children:(0,v.jsx)(C.A,{id:"Cancel"})}),(0,v.jsx)("button",{type:"button",ref:ae,className:"text-center form-control w-100 w-md-25 btn btn-outline-success",onClick:async()=>{p===r.account?l.A.put("".concat(x.A.getAddress(),"/api/report/").concat(r.id,"/"),r,{headers:{Authorization:"Bearer ".concat(localStorage.getItem("access"))}}).then(e=>{k(t=>t.map(t=>t.id===e.data.report.id?(0,n.A)((0,n.A)({},t),e.data.report):t)),z({position:"top-end",icon:"success",title:(0,v.jsx)(C.A,{id:"Updated Successfully!"}),showConfirmButton:!1,timer:1e3})}).catch(e=>{z({position:"top-end",icon:"error",title:(0,v.jsx)(C.A,{id:"Not Updated Successfully!"}),showConfirmButton:!1,timer:1e3})}):l.A.put("".concat(x.A.getAddress(),"/api/report/").concat(r.id,"/"),r,{params:{type:"change"},headers:{Authorization:"Bearer ".concat(localStorage.getItem("access"))}}).then(e=>{k(t=>t.map(t=>t.id===e.data.report.id?(0,n.A)((0,n.A)({},t),e.data.report):t)),z({position:"top-end",icon:"success",title:(0,v.jsx)(C.A,{id:"Updated Successfully!"}),showConfirmButton:!1,timer:1e3})}).catch(e=>{z({position:"top-end",icon:"error",title:(0,v.jsx)(C.A,{id:"Not Updated Successfully!"}),showConfirmButton:!1,timer:1e3})}),i()},children:(0,v.jsx)(C.A,{id:"Submit"})})]})]})})]})}var _=a(4455),T=a(97),N=a(93546),k=a(61238);const O=e=>e.toLocaleString();function B(e){let{belance:t,Cash:a,user:h,setCash:y,setbelance:A,accounts:j,setAccounts:B,money:M,setMoney:W}=e;const F=(0,D.N)(),{settings:E,statuss:z}=(0,m.d4)(e=>e.settings),[R,H]=(0,s.useState)(),{users:P,statusu:Y}=(0,m.d4)(e=>e.users),[K,G]=(0,s.useState)(),[L,U]=(0,s.useState)(),[V,Q]=(0,s.useState)(),{formatMessage:q}=(0,T.A)(),J=(0,T.A)(),X=e=>{"Enter"===e.key&&(e.preventDefault(),Z.current&&Z.current.click())},Z=(0,s.useRef)(null),$=(0,s.useRef)(null),[ee,te]=(0,s.useState)();const[ae,ne]=(0,s.useState)(S()()),[se,oe]=(0,s.useState)(!0),[re,ce]=(0,s.useState)(!1),[ie,le]=(0,s.useState)(),[de,ue]=((0,_.Wp)("fa").getToday(),(0,s.useState)(null)),[me,pe]=(0,s.useState)(0),[ge,he]=(0,s.useState)({account:15,date:"2024-05-15T15:41:44.888608Z",amount:0,discription:"",type:"deposite",cash:0,delete:"True"}),xe=async e=>{bt(!1);const t=f().mixin({customClass:{confirmButton:"btn btn-success",cancelButton:"btn btn-danger"},buttonsStyling:!1}),a=await t.fire({title:J.formatMessage({id:"Are you sure?"}),text:J.formatMessage({id:"You won't be able to revert this!"}),icon:"warning",showCancelButton:!0,confirmButtonText:J.formatMessage({id:"Yes, delete it!"}),cancelButtonText:J.formatMessage({id:"No, cancel!"}),reverseButtons:!0});if(a.isConfirmed){let t={isdelete:1};l.A.put(x.A.getAddress()+"/api/report/".concat(e.id),t,{params:{type:"delete"},headers:{Authorization:"Bearer ".concat(localStorage.getItem("access"))}}).then(t=>{f().fire({position:"center",icon:"success",title:"Deposit ".concat(J.formatMessage({id:"record successfully deleted!"})),showConfirmButton:!1,timer:600}),le(t=>t.filter(t=>t.id!==e.id)),A(e=>e.map(e=>e.id===t.data.belance.id?t.data.belance:e))}).catch(e=>{f().fire({position:"center",icon:"error",title:J.formatMessage({id:"Deposite record not deleted!"}),showConfirmButton:!1,timer:600})})}else a.dismiss===f().DismissReason.cancel&&f().fire({position:"center",icon:"error",text:J.formatMessage({id:"Your record is safe :)"}),showConfirmButton:!1,timer:600})},[ye,fe]=(0,s.useState)(0),[Ae,Se]=(0,s.useState)(0),[je,be]=(0,s.useState)({id:0,account_name:"",moneyType:"",account:0,moneyId:0,user:0,type:0,belance:0,date_created:""}),[we,Ce]=(0,s.useState)(!1),[De,ve]=(0,s.useState)(!1),[Ie,_e]=(0,s.useState)(null),[Te,Ne]=(0,s.useState)(""),[ke,Oe]=(0,s.useState)(!1),[Be,Me]=(0,s.useState)(""),[We,Fe]=(0,s.useState)(""),[Ee,ze]=(0,s.useState)(""),[Re,He]=(0,s.useState)(""),[Pe,Ye]=(0,s.useState)({user:0,discription:"",amount:0,date:(new Date).toISOString(),account:0,type:"deposite",cash:0,delete:"False"}),Ke=e=>{Ye((0,n.A)((0,n.A)({},Pe),{},{[e.target.name]:e.target.value,user:localStorage.getItem("userTokenid")}))},[Ge,Le]=(0,s.useState)(!1),Ue=(0,s.useMemo)(e=>window.innerWidth>768),Ve=e=>{const t=new Date(e);let a="".concat(t.getFullYear(),"-").concat(String(t.getMonth()+1).padStart(2,"0"),"-").concat(String(t.getDate()).padStart(2,"0"));const n=t.getHours(),s=t.getMinutes(),o=n>=12?"pm":"am";let r=n>=12?"pm":"am";const c=n%12||12,i=s<10?"0"+s:s;return"Persian"===E[0].date&&(r=n>=12?"ق.ظ":"ب.ظ",a=Qe("".concat(a,"  ").concat(c,":").concat(i," ").concat(o))),"".concat(a,"  ").concat(c,":").concat(i," ").concat(r)},Qe=e=>{const[t,a,n]=(0,o.dT)(new Date(e));return"".concat(t,"/").concat(a,"/").concat(n)},qe=[{name:(0,v.jsx)("strong",{style:{width:"1px"},children:"ID"}),selector:e=>e.id,style:{width:"1px",minWidth:"10px"}},{name:(0,v.jsx)("strong",{children:"Customer Name"}),selector:e=>e.customer,style:{padding:"0px 20px",justifyContent:"left",textAlign:"center"}},{name:(0,v.jsx)("strong",{style:{minWidth:"170px",maxWidth:"200px",width:"200px"},children:"Date Created"}),selector:e=>Ve(e.date),style:{minWidth:"170px",maxWidth:"200px"}},{name:(0,v.jsx)("strong",{children:"Money Type"}),selector:e=>e.moneyType},{name:(0,v.jsx)("strong",{className:"w-50 text-center",children:"Amount"}),selector:e=>e.amount,style:{textAlign:"center"}},{name:(0,v.jsx)("strong",{children:"Description"}),selector:e=>e.discription},{name:(0,v.jsx)("strong",{children:"Cash Belance"}),selector:e=>e.cash}],Je=e=>(0,v.jsx)("p",{className:"text-capitalize position-static p-2 mb-0 ".concat("deposite"===e?"bg-success":"bg-danger"," rounded text-light text-center "),style:{width:"75px"},children:(0,v.jsx)(C.A,{id:e})}),Xe=[{name:(0,v.jsx)("strong",{style:{textAlign:"center",backgroundColor:"tranceparent",width:"100%"},children:(0,v.jsx)(C.A,{id:"Delete"})}),selector:e=>(0,v.jsx)("button",{onClick:()=>{xe(e)},style:{border:"none",backgroundColor:"transparent",height:"100%"},children:(0,v.jsx)("img",{height:"15%",width:"15%",src:u,style:{backgroundColor:"tranceparent"}})})},{name:(0,v.jsx)("strong",{children:(0,v.jsx)(C.A,{id:"Add By"})}),selector:e=>e.user_name},{name:(0,v.jsx)("strong",{children:(0,v.jsx)(C.A,{id:"Description"})}),selector:e=>e.discription},{name:(0,v.jsx)("strong",{children:(0,v.jsx)(C.A,{id:"Transaction"})}),selector:e=>Je(e.type)},{name:(0,v.jsxs)("strong",{className:"w-50 text-center",children:[" ",(0,v.jsx)(C.A,{id:"Amount"})]}),selector:e=>O(e.amount),style:{textAlign:"center"}},{name:(0,v.jsxs)("strong",{children:[" ",(0,v.jsx)(C.A,{id:"Currency"})]}),selector:e=>e.moneyType},{name:(0,v.jsx)("strong",{style:{minWidth:"170px",maxWidth:"200px",width:"200px"},children:(0,v.jsx)(C.A,{id:"Date Created"})}),selector:e=>Ve(e.date),style:{minWidth:"170px",maxWidth:"200px"}},{name:(0,v.jsxs)("strong",{children:[" ",(0,v.jsx)(C.A,{id:"Customer Name"})]}),selector:e=>e.customer,style:{padding:"0px 20px",justifyContent:"left",textAlign:"center"}},{name:(0,v.jsx)("strong",{style:{width:"1px"},children:(0,v.jsx)(C.A,{id:"ID"})}),selector:e=>e.id,style:{width:"1px",minWidth:"10px"}}],Ze=[{name:(0,v.jsx)("strong",{style:{width:"1px"},children:"ID"}),selector:e=>e.id,style:{width:"1px",minWidth:"10px"}},{name:(0,v.jsx)("strong",{children:"Customer Name"}),selector:e=>e.customer,style:{padding:"0px 20px",justifyContent:"left",textAlign:"center"}},{name:(0,v.jsx)("strong",{style:{minWidth:"170px",maxWidth:"200px",width:"200px"},children:"Date Created"}),selector:e=>Ve(e.date),style:{minWidth:"170px",maxWidth:"200px"}},{name:(0,v.jsx)("strong",{children:"Money Type"}),selector:e=>e.moneyType},{name:(0,v.jsx)("strong",{className:"w-50 text-center",children:"Amount"}),selector:e=>O(e.amount),style:{textAlign:"center"}},{name:(0,v.jsx)("strong",{children:"Transaction"}),selector:e=>Je(e.type)},{name:(0,v.jsx)("strong",{children:"Description"}),selector:e=>e.discription},{name:(0,v.jsx)("strong",{children:"Added by "}),selector:e=>e.user_name},{name:(0,v.jsx)("strong",{style:{textAlign:"center",backgroundColor:"tranceparent",width:"100%"},children:"Delete"}),selector:e=>(0,v.jsx)("button",{onClick:()=>{xe(e)},style:{border:"none",backgroundColor:"transparent",height:"100%"},children:(0,v.jsx)("img",{height:"15%",width:"15%",src:u,style:{backgroundColor:"tranceparent"}})})}],[$e,et]=(0,s.useState)(""),[tt,at]=(0,s.useState)(""),[nt,st]=(0,s.useState)(),[ot,rt]=(0,s.useState)("");(0,s.useEffect)(()=>{const e=document.querySelector(".form-control");e&&setTimeout(()=>{e.focus(),e.select()},0)},[]);(0,s.useRef)(null);const[ct,it]=(0,s.useState)(),[lt,dt]=(0,s.useState)(),[ut,mt]=(0,s.useState)(),[pt,gt]=(0,s.useState)(),[ht,xt]=(0,s.useState)({id:0,account:0,date:"",amount:0,discription:"",type:"",customer:"",moneyType:"",cash:0,delete:!1,user:0,user_name:"",moneyid:0}),[yt,ft]=((0,s.useRef)(null),(0,s.useState)({name:"withdraw"})),[At,St]=(0,s.useState)(),[jt,bt]=(0,s.useState)(!1),[wt,Ct]=(0,s.useState)(null),[Dt,vt]=(0,s.useState)(0),[It,_t]=(0,s.useState)(!1),[Tt,Nt]=(0,s.useState)(1),[kt,Ot]=(0,s.useState)(10);(0,s.useEffect)(()=>{(async(e,t)=>{_t(!0);try{const a=await l.A.get(x.A.getAddress()+"/api/report",{headers:{Authorization:"Bearer ".concat(localStorage.getItem("access"))},params:{user_id:R.id,page:e,perPage:t,delete:0,StartDate:Be&&L,EndDate:We&&V,moneyid:localStorage.getItem("cashid"),search:null!=K&&K.length?K:"false",type:"all"}});le(a.data.data),vt(a.data.total),_t(!1)}catch(e){_t(!1)}})(Tt,kt)},[Tt,kt,We,Be,R,K]);const[Bt,Mt]=(0,s.useState)();return(0,s.useEffect)(()=>{!Bt||Bt.length<3?A([]):(async()=>{try{const e=await l.A.get("".concat(x.A.getAddress(),"/api/belance"),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("access"))},params:{query:Bt,do:"ok"}});A(e.data),e.data}catch(e){}})()},[Bt]),(0,v.jsxs)("div",{className:"container mt-5 w-100 h-100",onClick:e=>{"container mt-5 w-100 h-100"!==e.target.className&&"col-12 w-100 row rounded-3 m-3 pe-5 p-1 bg-transparent"!==e.target.className||Le(!1)},children:[(0,v.jsx)("a",{href:"/cash",type:"button",class:"btn btn-info px-4",style:{color:"white"},children:(0,v.jsx)(C.A,{id:"Back in cash"})}),(0,v.jsxs)("form",{class:"row w-100 rounded-3 m-3 p-1 bg-transparent",dir:"en"===localStorage.getItem("language")?"ltr":"rtl",children:[(0,v.jsxs)("div",{class:"col-lg-2 col-md-3 col-sm-6 m-1 mt-3",children:[(0,v.jsx)("label",{for:"category",children:(0,v.jsx)(C.A,{id:"Customer"})}),(0,v.jsx)(N.A,{searchQuery:Bt,setSearchQuery:Mt,handleInputChange:e=>{Mt(e)},setSelectedOption:st,selectedOption:nt,options:t,Onsearch:e=>{if(e){He(e.moneyType),ze(e.account_name),fe(e.moneyId),Se(e.id),be(t=>(0,n.A)((0,n.A)({},t),{},{id:e.id,moneyId:e.moneyId,user:e.user,moneyType:e.moneyType,account:e.account,account_name:e.account_name,type:e.type,belance:e.belance,date_created:e.date_created}));let t=e.account_name+" "+e.moneyType;Ye((0,n.A)((0,n.A)({},Pe),{},{account:e.id})),Le(!1),et(t)}}})]}),(0,v.jsxs)("div",{class:"col-lg-2 col-md-3 col-sm-6 m-0 mb-3 mt-3 ms-3 p-0 pe-4",children:[(0,v.jsxs)("label",{for:"price",children:["            ",(0,v.jsx)(C.A,{id:"Amount"}),"          "]}),(0,v.jsx)(w.HG,{ref:$,onKeyDown:X,thousandSeparator:!0,name:"amount",className:"form-control",value:ot,placeholder:"0",onChange:e=>{const t=e.target.value,a=t.replace(/,/g,"").replace("$","");rt(t),Ye((0,n.A)((0,n.A)({},Pe),{},{amount:a,user:localStorage.getItem("userTokenid")}))}})]}),(0,v.jsx)("div",{class:"col-lg-3 col-md-6 col-sm-12 m-2 mt-3 ps-2 p-0 pe-3",children:(0,v.jsxs)("div",{class:"form-floating",children:[(0,v.jsx)("textarea",{onKeyDown:X,name:"discription",class:"form-control h-50",placeholder:"Leave a comment here",id:"floatingTextarea2",value:Pe.discription,onChange:Ke}),(0,v.jsxs)("label",{for:"floatingTextarea2",children:["            ",(0,v.jsx)(C.A,{id:"Description"}),"            "]})]})}),(0,v.jsxs)("div",{class:"col-lg-3 col-md-6 col-sm-12  mt-3 ps-3 p-0",children:[(0,v.jsx)("label",{htmlFor:"category",children:(0,v.jsx)(C.A,{id:"Type"})}),(0,v.jsxs)("select",{name:"type",id:"category",value:Pe.type,onChange:Ke,className:"form-select",style:{width:"70%",fontWeight:"normal",fontSize:"15px"},children:[(0,v.jsx)("option",{selected:!0,value:"deposite",children:(0,v.jsx)(C.A,{id:"Deposit"})}),(0,v.jsx)("option",{value:"withdraw",children:(0,v.jsx)(C.A,{id:"Withdraw"})})]})]}),(0,v.jsx)("div",{class:"col-lg-1 col-md-3 col-sm-6 p-0 ps-0 ms-0",style:{marginTop:"2.3rem"},children:(0,v.jsx)("button",{onClick:()=>{(()=>{if(0!==Pe.amount&&0!==Pe.account){let e={user_id:localStorage.getItem("userTokenid"),discription:"",amount:0,date_created:null,account_id:0,type:"deposite",cash:0};e.amount=Pe.amount,e.discription=Pe.discription,e.date_created=Pe.date,e.account_id=Pe.account,e.type=Pe.type;const a=(new Date).toISOString();e.isdelete=0;let n=Pe;Ye({user_id:localStorage.getItem("userTokenid"),discription:"",amount:"",date:a,account_id:0,type:"deposite",cash:0}),l.A.post("".concat(x.A.getAddress(),"/api/report"),e,{headers:{Authorization:"Bearer ".concat(localStorage.getItem("access"))}}).then(e=>{let a={id:0,user_name:"",moneyType:"",customer:"",user_id:0,discription:"",amount:0,date_created:null,account_id:0,type:"deposite",cash:0,account_id:0,moneyId:0};a.id=e.data.report,a.account=n.account,a.user_id=localStorage.getItem("userTokenid"),a.discription=n.discription,a.amount=n.amount,a.date=n.date,a.account=n.account,a.type=n.type,a.customer=Ee,a.user_name=localStorage.getItem("userToken"),a.moneyType=Re,le([a,...ie]),F({position:"top-end",icon:"success",title:(0,v.jsx)(C.A,{id:"Your record has been added!"}),showConfirmButton:!1,timer:1e3}),st(""),rt(""),ne(S()());let s=e.data.belance;A(t.map(e=>e.id===s.id?s:e)),e.data.moneys}).catch(e=>{F({position:"top-end",icon:"error",title:(0,v.jsx)(C.A,{id:"Not working ,please try again!"}),showConfirmButton:!1,timer:1500})})}else F({position:"top-end",icon:"error",title:(0,v.jsx)(C.A,{id:"You must fill Customer name and Amount input!"}),showConfirmButton:!1,timer:1500})})()},ref:Z,type:"button",class:"btn btn-success w-100",children:(0,v.jsx)(C.A,{id:"Add"})})})]}),(0,v.jsxs)("div",{dir:"en"===localStorage.getItem("language")?"ltr":"rtl",className:"bg-light d-flex flex-column flex-lg-row justify-content-lg-between align-items-start align-items-lg-center",style:{borderTop:"5px solid #4a5cf2"},children:[(0,v.jsx)("h2",{className:"m-2 fw-bold mb-4",children:(0,v.jsx)(C.A,{id:"Deposite"})}),(0,v.jsxs)("div",{className:"d-flex flex-column flex-lg-row align-items-start align-items-lg-center",children:[(0,v.jsx)("div",{className:"mb-1 mb-lg-0 me-lg-2 mt-1 ",children:(0,v.jsx)(c.A,{default_value:Be,handle_date:e=>{if(e){const{year:t,month:a,day:n}=e,s=(b().toGregorian(t,a,n),new Date);String(s.getHours()).padStart(2,"0"),String(s.getMinutes()).padStart(2,"0");const o=new Date,r=new Date(e.year,e.month-1,e.day,o.getHours(),o.getMinutes()).toISOString();U(r)}},lebal:(0,v.jsx)(C.A,{id:"Start"}),setSelectedDay:Me,selectedDay:Be})}),(0,v.jsx)("div",{className:"mb-1 mt-1 mb-lg-0 me-lg-2",children:(0,v.jsx)(c.A,{default_value:We,handle_date:e=>{if(e){const{year:t,month:a,day:n}=e,s=(b().toGregorian(t,a,n),new Date);String(s.getHours()).padStart(2,"0"),String(s.getMinutes()).padStart(2,"0");const o=new Date,r=new Date(e.year,e.month-1,e.day,o.getHours(),o.getMinutes()).toISOString();Q(r)}},lebal:(0,v.jsx)(C.A,{id:"End"}),setSelectedDay:Fe,selectedDay:We})}),(0,v.jsx)(k.A,{options:P,selectedOption:R,setSelectedOption:H})]}),(0,v.jsx)("input",{className:"form-control m-2 mb-2 mt-4",style:{width:"100%",maxWidth:"200px"},type:"search",onChange:e=>{G(e.target.value)},value:K,placeholder:q({id:"Search"}),"aria-label":"Search"})]}),(0,v.jsx)(I,{primarytype:At,setprimarytype:St,type:yt,settype:ft,setSelectedOption:gt,selectedOption:pt,money:M,accounts:j,setAccounts:B,records:ie,setRecords:le,handleKeyDown:X,setCash:y,Cash:a,belance:t,setbelance:A,account:ut,setAccount:mt,Diversity:lt,setDiversity:dt,selectedDay:ct,setselectedDay:it,EndDate:wt,Edit_Deposit:ht,setEditDeposit:xt,settings:E,handle_date:e=>{if(e){const{year:t,month:a,day:s}=e,o=(b().toGregorian(t,a,s),new Date);String(o.getHours()).padStart(2,"0"),String(o.getMinutes()).padStart(2,"0");const r=new Date,c=new Date(e.year,e.month-1,e.day,r.getHours(),r.getMinutes()).toISOString();Ye((0,n.A)((0,n.A)({},Pe),{},{date:c}))}},setSelectedDay:it,open:jt,closeEdit:()=>bt(!1)}),(0,v.jsx)(i.Ay,{onRowClicked:e=>{St(e.type),ft({name:e.type,label:e.type}),mt(e.account),it(S()(e.date));let t,a={account_name:e.customer,moneyType:e.moneyType};gt(a),dt(e.amount);try{if(t=new Date(e.date),isNaN(t.getTime()))throw new Error("Invalid date")}catch(e){return}t.setDate(t.getDate());b().toJalaali(t.getFullYear(),t.getMonth()+1,t.getDate());const n=S()(t);it(n),xt(e),bt(!0)},columns:Ue?"admin"===localStorage.getItem("userTokenname")?"da"==localStorage.getItem("language")?Xe:Ze:qe:[{name:"account_name",selector:e=>e.customer,sortable:!0},{name:"moneyType",selector:e=>e.moneyType,sortable:!0},{name:"Amount",selector:e=>e.amount,sortable:!0},,],data:ie,progressPending:It,striped:!0,responsive:!0,highlightOnHover:!0,pagination:!0,paginationServer:!0,paginationTotalRows:Dt,onChangePage:e=>{Nt(e)},onChangeRowsPerPage:async(e,t)=>{Ot(e),Nt(t)}}),De&&(0,v.jsx)(d.A,{close:()=>ve(!1),account:Ie,setAccount:_e}),we&&(0,v.jsx)(p.A,{close:()=>Ce(!1),id:Te,accountbelance:Ie}),ke&&(0,v.jsx)(g.A,{close:()=>Oe(!1)}),re&&(0,v.jsx)(r.A,{})]})}},93546:(e,t,a)=>{a.d(t,{A:()=>r});a(65043);var n=a(21443),s=a(97),o=a(70579);const r=e=>{let{isEditable:t=!1,options:a,Onsearch:r,selectedOption:c,setSelectedOption:i,searchQuery:l,handleInputChange:d}=e;const{formatMessage:u}=(0,s.A)();return(0,o.jsx)("div",{className:"w-40",children:(0,o.jsx)(n.Ay,{classNamePrefix:"custom-select",inputValue:l,value:c,onChange:e=>{i(e),r(e)},options:a,onInputChange:d,getOptionLabel:e=>(0,o.jsx)("div",{style:{display:"flex",alignItems:"center"},children:(0,o.jsx)("span",{children:"".concat(e.account_name," ").concat(e.moneyType)})}),getOptionValue:e=>"".concat(e.account_name," ").concat(e.moneyType),placeholder:u({id:"Search..."}),isClearable:!0,isSearchable:!0,isDisabled:t})})}}}]);
//# sourceMappingURL=1516.d5f8506c.chunk.js.map