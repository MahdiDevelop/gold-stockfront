"use strict";(self.webpackChunkdentest=self.webpackChunkdentest||[]).push([[2813],{14635:e=>{e.exports="data:image/png;base64,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"},30232:e=>{e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAYAAADimHc4AAAABmJLR0QA/wD/AP+gvaeTAAADmElEQVRYCe2ZzU4UURSEm4kzCwFXPoXGrWFYmhjxidiycOtPwrsAL8AoSxM1rl27G9RoSMbvKixs58buPtX2zxS5RTPd9xTnfDUNM1AU/jABEzABEzABEzABEzABEzCBHhFYFcUhWgV12KORhtMK0I9QFP5N/VHhj+oEAK+E7xCqoy+KluCPOwSg7aMz9BndDDvWY5rxlDnndZ5Yre1NjaAfaKzAc3N9Z+aHUbCTqAH1z9AUbdqaMXCanUPztdW89Hclz4IvfHUbbeK6BOBuZHDFHUAGkRYGXRueXRHAm0EjjDX/OlYuqOYpMEf+JSxg2diCAPZRehm65Jh71TCW82nG/rwMbZyaC03ABEzABEzABEzABEzABLoiwN+StN86vRHTOvbLDWAsXU+KvwXputlAJwfQcegOwAF0TKDjb+87wAF0TKDjb+87wAH8IrDg8wG6e62nHJX/7mvbn3Z7stIbsZpasH9abp9zM3SBov9JW+Ah8y/32bvHDFsX2KPcEHg9RnX9yvul/rlem56Xvq1OTSRg6VhD2zTxdd1+vHY4v0SRJfWnV1aknT9rpWbJGmis9FU10QArvxczVv76v65gzsrvwpyVv16+ghmrfLb540nzUlcqCDgABcWAhwMIwFOUOgAFxYCHAwjAU5Q6AAXFgIcDCMBTlDoABcWAhwMIwFOUOgAFxYCHAwjAU5Q6AAXFgIcDCMBTlDoABcWAhwMIwFOUOgAFxYCHAwjAU5Q6AAXFgIcDCMBTlDoABcWAhwMIwFOUOgAFxYCHAwjAU5Q6AAXFgIcDCMBTlDoABcWAhwMIwFOUOgAFxYCHAwjAU5Q6AAXFgIcDCMBTlDoABcWAhwMIwFOUOgAFxYCHAwjAU5R2HsCqKLZzg3BtN3et6nk8WvWv2kduX+cB0Ngeyq157kKN823712jlP2zlGbeqqQX7p+XWODdDF6iuX3n/Ag+Zf7nP3j1m2DKAKo/PqXuCdq51wDGBq1JbZY/MXw18S20IuEs8sz93uTbktQTYHeUAbfwO+KRssGde8tkmLQx42oJnXyxP1I1wR2kt+RF0D8e36BYa07pimAcA+8hRtuR3AA1+oLtjNLb1ktmk8FsDxF0wRWeoyiuUIew5YZZh3dE0nEI45niFhgB5XY+p91f0/9f7iNaevWpjmr+PXqD36BtaN2ifzqUe39Hnc5R+n6mR2M8ETMAETMAETMAETMAETGDDCfwEQnhdmEi1EYkAAAAASUVORK5CYII="},52813:(e,s,t)=>{t.r(s),t.d(s,{default:()=>j});var a=t(89379),n=t(65043),l=t(79722),i=t(30232),r=t(14635),o=t(30064),A=t.n(o),d=t(85875),c=t(53226),m=t(76583),h=t(70579);function x(e){let{users:s,setUsers:t,closeEdit:i,edit:r,setUser:o,user:A,updateItem:x}=e;const[u,g]=(0,n.useState)(!1),j=(0,m.N)(),p=e=>{const{name:s,value:t,type:n,checked:l}=e.target;o((0,a.A)((0,a.A)({},A),{},{[e.target.name]:e.target.value}))},[w,b]=(0,n.useState)();return(0,h.jsxs)("div",{className:"container rounded-4 p-2  popup ".concat(r?"show":""),style:{maxWidth:"400px"},children:[(0,h.jsx)("h4",{className:"text-center bg-info mt-4 p-3 text-light w-100",children:(0,h.jsx)(c.A,{id:"Edit User"})}),(0,h.jsxs)("div",{className:"mb-3 mt-5",children:[(0,h.jsx)("label",{htmlFor:"username",className:"form-label",children:(0,h.jsx)(c.A,{id:"User Name"})}),(0,h.jsx)("input",{type:"text",name:"name",onChange:p,value:A.name,className:"form-control",id:"username"})]}),(0,h.jsxs)("div",{className:"mb-3",children:[(0,h.jsx)("label",{htmlFor:"password",className:"form-label",children:(0,h.jsx)(c.A,{id:"New Password"})}),(0,h.jsx)("input",{type:"password",name:"password",onChange:e=>{b(e.target.value)},value:w,className:"form-control",id:"password"})]}),(0,h.jsxs)("div",{className:"mb-3",children:[(0,h.jsx)("label",{htmlFor:"is_staff",className:"form-label",children:(0,h.jsx)(c.A,{id:"Type"})}),(0,h.jsxs)("select",{id:"is_staff",name:"category",onChange:p,className:"form-select",value:A.category,children:[(0,h.jsx)("option",{value:"admin",children:(0,h.jsx)(c.A,{id:"Admin"})}),(0,h.jsx)("option",{value:"simple",children:(0,h.jsx)(c.A,{id:"Simple"})})]})]}),(0,h.jsxs)("div",{className:"mb-3",children:[(0,h.jsx)("label",{htmlFor:"email",className:"form-label",children:(0,h.jsx)(c.A,{id:"Email"})}),(0,h.jsx)("input",{type:"email",name:"email",onChange:p,value:A.email,className:"form-control",id:"email"})]}),u&&(0,h.jsx)("div",{className:"text-light ps-2 opacity-75 rounded bg-danger font-weight-bold mt-0",children:(0,h.jsx)(c.A,{id:"You must fill in all required fields."})}),(0,h.jsxs)("div",{className:"mt-1 justify-content-around d-flex",children:[(0,h.jsx)("button",{type:"button",className:"col-5 m-2 mt-3 btn btn-outline-danger fw-bold",onClick:()=>{i(),g(!1)},children:(0,h.jsx)(c.A,{id:"Cancel"})}),(0,h.jsx)("button",{onClick:()=>{(e=>{const a={name:e.name,password:w,first_name:e.first_name,email:e.email,category:e.category};e.name&&w?l.A.put("".concat(d.A.getAddress(),"/api/user/").concat(e.id,"/"),a,{headers:{Authorization:"Bearer ".concat(localStorage.getItem("access"))}}).then(a=>{j({position:"top-end",icon:"success",title:(0,h.jsx)(c.A,{id:"User has been updated!"}),showConfirmButton:!1,timer:1e3}),localStorage.setItem("userToken",e.name),t(s.map(s=>s.id===e.id?e:s)),i(),o({})}).catch(e=>{j({position:"top-end",icon:"error",title:(0,h.jsx)(c.A,{id:"Something went wrong!"}),showConfirmButton:!1,timer:1e3})}):(g(!0),j({title:"Error",title:(0,h.jsx)(c.A,{id:"You must fill in all required fields!"}),icon:"error"}))})(A)},type:"button",className:"col-5 m-2 mt-3 btn btn-outline-success fw-bold",children:(0,h.jsx)(c.A,{id:"Save"})})]})]})}function u(e){let{closeAdd:s,add:t,setUsers:i,users:r}=e;const o=(0,m.N)(),[x,u]=(0,n.useState)({name:"",password:"",email:"",category:"simple"}),[g,j]=(0,n.useState)(!1),p=e=>{u((0,a.A)((0,a.A)({},x),{},{[e.target.name]:e.target.value}))};return(0,h.jsxs)("div",{className:"container rounded-4 mx-auto p-2 mb-auto popup ".concat(t?"show":""),style:{maxWidth:"400px"},children:[(0,h.jsx)("h4",{className:"text-center bg-info mt-4 p-3 text-light w-100",children:(0,h.jsx)(c.A,{id:"Add User"})}),(0,h.jsxs)("div",{className:"mb-3 mt-5",children:[(0,h.jsx)("label",{htmlFor:"name",className:"form-label",children:(0,h.jsx)(c.A,{id:"Username"})}),(0,h.jsx)("input",{type:"text",name:"name",onChange:p,value:x.name,className:"form-control",id:"username"})]}),(0,h.jsxs)("div",{className:"mb-3",children:[(0,h.jsx)("label",{htmlFor:"password",className:"form-label",children:(0,h.jsx)(c.A,{id:"Password"})}),(0,h.jsx)("input",{type:"password",name:"password",onChange:p,value:x.password,className:"form-control",id:"password"})]}),(0,h.jsxs)("div",{className:"mb-3",children:[(0,h.jsx)("label",{htmlFor:"category",className:"form-label",children:(0,h.jsx)(c.A,{id:"Type"})}),(0,h.jsxs)("select",{id:"is_staff",name:"category",onChange:p,className:"form-select",value:x.is_staff,children:[(0,h.jsxs)("option",{value:"admin",children:["      ",(0,h.jsx)(c.A,{id:"Admin"})]}),(0,h.jsxs)("option",{value:"simple",children:["      ",(0,h.jsx)(c.A,{id:"Sample"})]})]})]}),(0,h.jsxs)("div",{className:"mb-3",children:[(0,h.jsx)("label",{htmlFor:"email",className:"form-label",children:(0,h.jsx)(c.A,{id:"Email"})}),(0,h.jsx)("input",{type:"email",name:"email",onChange:p,value:x.email,className:"form-control",id:"email"})]}),g&&(0,h.jsx)("div",{className:"text-light ps-2 opacity-75 rounded bg-danger font-weight-bold mt-0",children:(0,h.jsx)(c.A,{id:"You must fill in all required fields."})}),(0,h.jsxs)("div",{className:"mt-1 justify-content-around d-flex",children:[(0,h.jsx)("button",{type:"button",className:"col-5 m-2 mt-3 btn btn-outline-danger fw-bold",onClick:()=>{s(),j(!1)},children:(0,h.jsx)(c.A,{id:"Cancel"})}),(0,h.jsx)("button",{onClick:()=>{(e=>{e.name&&e.password?l.A.post("".concat(d.A.getAddress(),"/api/user/"),e,{headers:{Authorization:"Bearer ".concat(localStorage.getItem("access"))}}).then(t=>{o({position:"top-end",icon:"success",title:(0,h.jsx)(c.A,{id:"User has been created!"}),showConfirmButton:!1,timer:1e3});const a={id:t.data.id,name:e.name,email:e.email,category:e.category};i([a,...r]),s(),u({name:"",password:"",email:"",category:""})}).catch(e=>{o({position:"top-end",icon:"error",title:(0,h.jsx)(c.A,{id:"Something went wrong!"}),showConfirmButton:!1,timer:1e3})}):(j(!0),A().fire({title:"Error",title:(0,h.jsx)(c.A,{id:"You must fill in all required fields!"}),icon:"error"}))})(x)},type:"button",className:"col-5 m-2 mt-3 btn btn-outline-success fw-bold",children:(0,h.jsx)(c.A,{id:"Save"})})]})]})}var g=t(97);function j(e){let{users:s,setUsers:t}=e;const o=(0,m.N)(),j=(0,g.A)();(0,n.useEffect)(()=>{l.A.get(d.A.getAddress()+"/api/user",{headers:{Authorization:"Bearer ".concat(localStorage.getItem("access"))}}).then(e=>{t(e.data)}).catch(e=>{})},[]);const[p,w]=(0,n.useState)(!1),[b,f]=(0,n.useState)(!1),[N,C]=(0,n.useState)({});let B=0;return(0,h.jsxs)("div",{dir:"en"===localStorage.getItem("language")?"ltr":"rtl",className:"container mt-5 h-100 m-auto",onClick:e=>{"container mt-5 h-100 m-auto"===e.target.className&&(f(!1),w(!1))},children:[(0,h.jsx)("button",{onClick:()=>f(!0),type:"button",className:"btn btn-info fw-bold text-white mb-3",children:(0,h.jsx)(c.A,{id:"Add New User"})}),(0,h.jsxs)("div",{className:"card card-body rounded-2 m-auto",children:[(0,h.jsx)("h1",{className:"text-center rounded mb-4 p-4 text-light",style:{backgroundColor:"var(--bs-info)"},children:(0,h.jsx)(c.A,{id:"Table Of Users"})}),(0,h.jsxs)("table",{className:"table table-light table-striped rounded-4",children:[(0,h.jsx)("thead",{children:(0,h.jsxs)("tr",{children:[(0,h.jsxs)("th",{scope:"col",children:["          ",(0,h.jsx)(c.A,{id:"No"}),"              "]}),(0,h.jsxs)("th",{scope:"col",children:["          ",(0,h.jsx)(c.A,{id:"Username"})]}),(0,h.jsxs)("th",{scope:"col",children:["          ",(0,h.jsx)(c.A,{id:"Type"})]}),(0,h.jsxs)("th",{scope:"col",children:["          ",(0,h.jsx)(c.A,{id:"Email"})]}),(0,h.jsxs)("th",{scope:"col",children:["          ",(0,h.jsx)(c.A,{id:"Delete"}),"              "]}),(0,h.jsxs)("th",{scope:"col",children:["          ",(0,h.jsx)(c.A,{id:"Edit"}),"              "]})]})}),(0,h.jsx)("tbody",{className:"table-group-divider",children:s.map((e,a)=>(B++,(0,h.jsxs)("tr",{children:[(0,h.jsx)("th",{scope:"row",children:e.id}),(0,h.jsx)("td",{children:e.name}),(0,h.jsx)("td",{children:e.category}),(0,h.jsx)("td",{children:e.email}),1!==e.id?(0,h.jsx)("td",{className:"text-center",style:{width:"2vw"},children:(0,h.jsx)("button",{onClick:()=>(e=>{const a=A().mixin({customClass:{confirmButton:"btn btn-success",cancelButton:"btn btn-danger"},buttonsStyling:!1});a.fire({title:j.formatMessage({id:"Are you sure?"}),text:j.formatMessage({id:"You won't be able to revert this!"}),icon:"warning",showCancelButton:!0,confirmButtonText:j.formatMessage({id:"Yes, delete it!"}),cancelButtonText:j.formatMessage({id:"No, cancel!"}),reverseButtons:!0}).then(n=>{n.isConfirmed?l.A.delete(d.A.getAddress()+"/api/user/"+e+"/",{headers:{Authorization:"Bearer ".concat(localStorage.getItem("access"))}}).then(a=>{o({position:"top-end",icon:"success",title:(0,h.jsx)(c.A,{id:"User has been deleted!"}),showConfirmButton:!1,timer:1e3}),t(s.filter(s=>s.id!==e))}).catch(e=>{a.fire({title:"Cancelled",text:(0,h.jsx)(c.A,{id:"Something went wrong!"}),icon:"error"})}):n.dismiss===A().DismissReason.cancel&&a.fire({title:j.formatMessage({id:"Cancelled"}),text:j.formatMessage({id:"Your record is safe :)"}),icon:"error"})})})(e.id),className:"p-0 m-0",style:{border:"none",background:"transparent"},children:(0,h.jsx)("img",{height:"24px",width:"24px",src:i,alt:"Delete"})})}):(0,h.jsx)("td",{style:{color:"red"}}),(0,h.jsx)("td",{className:"text-center",style:{width:"2vw"},children:(0,h.jsx)("button",{onClick:()=>{w(!0),C(e)},className:"p-0 m-0",style:{border:"none",background:"transparent"},children:(0,h.jsx)("img",{height:"24px",width:"24px",src:r,alt:"Edit"})})})]},B)))})]}),(0,h.jsx)(x,{updateItem:(e,n)=>{const l=s.map(s=>s.id===e?(0,a.A)((0,a.A)({},s),{},{newName:n}):s);t(l)},setUser:C,users:s,setUsers:t,edit:p,user:N,closeEdit:()=>{w(!1),C({})}}),(0,h.jsx)(u,{closeAdd:()=>{f(!1)},add:b,users:s,setUsers:t})]})]})}}}]);
//# sourceMappingURL=2813.8054e109.chunk.js.map