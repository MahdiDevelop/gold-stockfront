/*! For license information please see 9871.45669cd1.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkdentest=self.webpackChunkdentest||[]).push([[9871],{49871:(e,t,s)=>{s.r(t),s.d(t,{default:()=>M});var n=s(89379),a=s(65043),o=s(7353),i=s(61596),r=s(94496),l=s(71806),d=s(73460),c=s(28076),u=s(10039),A=s(69285),h=s(6990),g=s(11906),x=s(68903),p=s(81045);const v=(0,s(77784).A)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);var m=s(83003),j=s(53226),f=s(79722),b=s(85875),y=s(91814),k=s(76583),w=s(74897),S=s(92190),C=s(13914),P=s(88157),R=s(70579);const D=e=>Object.keys(e).map(t=>({id:t,label:t,checked:1===e[t]}));function M(){var e,t,s,M,N,W,z,I,B,E;const F=(0,m.wA)(),O=(0,k.N)(),[L,T]=(0,a.useState)(!1),[U,q]=(0,a.useState)(!1),[_,H]=(0,a.useState)(!1),[G,J]=(0,a.useState)(!1),[K,Q]=(0,a.useState)([]),{settings:V,statuss:X}=(0,m.d4)(e=>e.settings),{sidebars:Y}=(0,m.d4)(e=>e.sidebars),Z="en"===(null===(e=K[0])||void 0===e?void 0:e.language)?"ltr":"rtl",$="en"===(null===(t=K[0])||void 0===t?void 0:t.language)?"left":"right";(0,a.useEffect)(()=>{null===X&&F((0,y.mt)())},[]),(0,a.useEffect)(()=>{V.length>0&&Q(V)},[V]);const ee=e=>{var t;if(0===K.length)return;const s=(0,n.A)((0,n.A)({},K[0]),{},{[e.target.name]:e.target.value});Q([s]),localStorage.setItem(e.target.name,e.target.value);const a=new FormData;a.append("_method","PUT"),a.append("date",s.date),a.append("language",s.language),f.A.post("".concat(b.A.getAddress(),"/api/settings/").concat(null===(t=K[0])||void 0===t?void 0:t.id),a,{headers:{Authorization:"Bearer ".concat(localStorage.getItem("access"))}}).then(e=>{F((0,y.bm)(e.data.settings)),Q([e.data.settings]),O({position:"top-end",icon:"success",title:"Settings updated successfully!",showConfirmButton:!1,timer:1500})}).catch(()=>{O({position:"top-end",icon:"error",title:"Something went wrong!",showConfirmButton:!1,timer:1500})})};return(0,R.jsxs)(o.A,{sx:{maxWidth:600,mx:"auto",mt:5,direction:Z},children:[(0,R.jsxs)(i.A,{elevation:3,sx:{p:3,borderTop:"5px solid #4a5cf2"},children:[(0,R.jsx)(r.A,{variant:"h5",fontWeight:"bold",gutterBottom:!0,textAlign:$,children:(0,R.jsx)(j.A,{id:"Settings"})}),(0,R.jsx)(l.A,{children:(0,R.jsxs)(d.A,{children:[(0,R.jsxs)(c.A,{children:[(0,R.jsx)(u.A,{align:$,children:(0,R.jsx)(r.A,{fontWeight:"bold",children:(0,R.jsx)(j.A,{id:"Date"})})}),(0,R.jsx)(u.A,{align:$,children:(0,R.jsxs)(A.A,{name:"date",value:(null===(s=K[0])||void 0===s?void 0:s.date)||"",onChange:ee,size:"small",sx:{minWidth:150},children:[(0,R.jsx)(h.A,{value:"English",children:(0,R.jsx)(j.A,{id:"English"})}),(0,R.jsx)(h.A,{value:"Persian",children:(0,R.jsx)(j.A,{id:"Dari"})}),(0,R.jsx)(h.A,{value:"Persian",children:(0,R.jsx)(j.A,{id:"Pashto"})})]})})]}),(0,R.jsxs)(c.A,{children:[(0,R.jsx)(u.A,{align:$,children:(0,R.jsx)(r.A,{fontWeight:"bold",children:(0,R.jsx)(j.A,{id:"Language"})})}),(0,R.jsx)(u.A,{align:$,children:(0,R.jsxs)(A.A,{name:"language",value:(null===(M=K[0])||void 0===M?void 0:M.language)||"",onChange:ee,size:"small",sx:{minWidth:150},children:[(0,R.jsx)(h.A,{value:"en",children:(0,R.jsx)(j.A,{id:"English"})}),(0,R.jsx)(h.A,{value:"da",children:(0,R.jsx)(j.A,{id:"Dari"})}),(0,R.jsx)(h.A,{value:"pa",children:(0,R.jsx)(j.A,{id:"Pashto"})})]})})]}),(0,R.jsxs)(c.A,{children:[(0,R.jsx)(u.A,{align:$,children:(0,R.jsx)(r.A,{fontWeight:"bold",children:(0,R.jsx)(j.A,{id:"Get Backup"})})}),(0,R.jsx)(u.A,{align:$,children:(0,R.jsx)(g.A,{variant:"outlined",onClick:async()=>{try{const e=await f.A.get(b.A.getAddress()+"/api/backup",{headers:{Authorization:"Bearer ".concat(localStorage.getItem("access"))},responseType:"blob"}),t=window.URL.createObjectURL(new Blob([e.data])),s=document.createElement("a");s.href=t,s.setAttribute("download","backup.sql"),document.body.appendChild(s),s.click(),document.body.removeChild(s),window.URL.revokeObjectURL(t)}catch(e){alert("Failed to create backup.")}},startIcon:(0,R.jsx)(v,{size:16}),children:(0,R.jsx)(j.A,{id:"Backup"})})})]}),(0,R.jsx)(c.A,{children:(0,R.jsxs)(u.A,{align:$,colSpan:2,children:[(0,R.jsxs)(o.A,{display:"flex",justifyContent:"space-between",alignItems:"center",children:[(0,R.jsx)(r.A,{fontWeight:"bold",children:(0,R.jsx)(j.A,{id:"Organisation Info"})}),(0,R.jsx)(g.A,{variant:"outlined",color:"success",onClick:()=>q(!0),children:(0,R.jsx)(j.A,{id:"Change"})})]}),(0,R.jsxs)(x.Ay,{container:!0,spacing:2,mt:1,children:[(0,R.jsxs)(x.Ay,{item:!0,xs:12,sm:8,sx:{textAlign:$},children:[(0,R.jsxs)(r.A,{fontWeight:"bold",children:[(0,R.jsx)(j.A,{id:"Company Name"}),": ",(null===(N=K[0])||void 0===N?void 0:N.company_name)||"N/A"]}),(0,R.jsxs)(r.A,{fontWeight:"bold",children:[(0,R.jsx)(j.A,{id:"Address"}),": ",(null===(W=K[0])||void 0===W?void 0:W.address)||"N/A"]}),(0,R.jsxs)(r.A,{fontWeight:"bold",children:[(0,R.jsx)(j.A,{id:"Phone"}),": ",(null===(z=K[0])||void 0===z?void 0:z.phone)||"N/A"]}),(0,R.jsxs)(r.A,{fontWeight:"bold",children:[(0,R.jsx)(j.A,{id:"Email"}),": ",(null===(I=K[0])||void 0===I?void 0:I.email)||"N/A"]}),(0,R.jsxs)(r.A,{mt:1,children:[(0,R.jsx)(j.A,{id:"Description"}),": ",(null===(B=K[0])||void 0===B?void 0:B.description)||"N/A"]})]}),(0,R.jsx)(x.Ay,{item:!0,xs:12,sm:4,children:(0,R.jsx)(p.A,{variant:"rounded",src:null===(E=K[0])||void 0===E?void 0:E.company_pic,sx:{width:150,height:150,border:"2px solid #ddd"},alt:"Company"})})]})]})})]})})]}),(0,R.jsx)(C.A,{close:()=>J(!1),SidebarModel:G,options:D(Y[0])}),(0,R.jsx)(S.A,{addAccountModal:L,close:()=>T(!1)}),(0,R.jsx)(w.A,{settings:K,setsettings:Q,close:()=>q(!1),addAccountModal:U}),(0,R.jsx)(P.A,{setsettings:Q,settings:K,close:()=>H(!1),addAccountModal:_})]})}},81045:(e,t,s)=>{s.d(t,{A:()=>y});var n=s(80045),a=s(89379),o=s(65043),i=s(58387),r=s(98610),l=s(34535),d=s(56262),c=s(98206),u=s(59662),A=s(70579);const h=(0,u.A)((0,A.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person");var g=s(92532),x=s(72372);function p(e){return(0,x.Ay)("MuiAvatar",e)}(0,g.A)("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]);var v=s(4162);const m=["alt","children","className","component","slots","slotProps","imgProps","sizes","src","srcSet","variant"],j=(0,l.Ay)("div",{name:"MuiAvatar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:s}=e;return[t.root,t[s.variant],s.colorDefault&&t.colorDefault]}})((0,d.A)(e=>{let{theme:t}=e;return{position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none",variants:[{props:{variant:"rounded"},style:{borderRadius:(t.vars||t).shape.borderRadius}},{props:{variant:"square"},style:{borderRadius:0}},{props:{colorDefault:!0},style:(0,a.A)({color:(t.vars||t).palette.background.default},t.vars?{backgroundColor:t.vars.palette.Avatar.defaultBg}:(0,a.A)({backgroundColor:t.palette.grey[400]},t.applyStyles("dark",{backgroundColor:t.palette.grey[600]})))}]}})),f=(0,l.Ay)("img",{name:"MuiAvatar",slot:"Img",overridesResolver:(e,t)=>t.img})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),b=(0,l.Ay)(h,{name:"MuiAvatar",slot:"Fallback",overridesResolver:(e,t)=>t.fallback})({width:"75%",height:"75%"});const y=o.forwardRef(function(e,t){const s=(0,c.b)({props:e,name:"MuiAvatar"}),{alt:l,children:d,className:u,component:h="div",slots:g={},slotProps:x={},imgProps:y,sizes:k,src:w,srcSet:S,variant:C="circular"}=s,P=(0,n.A)(s,m);let R=null;const D=(0,a.A)((0,a.A)({},s),{},{component:h,variant:C}),M=function(e){let{crossOrigin:t,referrerPolicy:s,src:n,srcSet:a}=e;const[i,r]=o.useState(!1);return o.useEffect(()=>{if(!n&&!a)return;r(!1);let e=!0;const o=new Image;return o.onload=()=>{e&&r("loaded")},o.onerror=()=>{e&&r("error")},o.crossOrigin=t,o.referrerPolicy=s,o.src=n,a&&(o.srcset=a),()=>{e=!1}},[t,s,n,a]),i}((0,a.A)((0,a.A)((0,a.A)({},y),"function"==typeof x.img?x.img(D):x.img),{},{src:w,srcSet:S})),N=w||S,W=N&&"error"!==M;D.colorDefault=!W,delete D.ownerState;const z=(e=>{const{classes:t,variant:s,colorDefault:n}=e,a={root:["root",s,n&&"colorDefault"],img:["img"],fallback:["fallback"]};return(0,r.A)(a,p,t)})(D),[I,B]=(0,v.A)("img",{className:z.img,elementType:f,externalForwardedProps:{slots:g,slotProps:{img:(0,a.A)((0,a.A)({},y),x.img)}},additionalProps:{alt:l,src:w,srcSet:S,sizes:k},ownerState:D});return R=W?(0,A.jsx)(I,(0,a.A)({},B)):d||0===d?d:N&&l?l[0]:(0,A.jsx)(b,{ownerState:D,className:z.fallback}),(0,A.jsx)(j,(0,a.A)((0,a.A)({as:h,className:(0,i.A)(z.root,u),ref:t},P),{},{ownerState:D,children:R}))})}}]);
//# sourceMappingURL=9871.45669cd1.chunk.js.map